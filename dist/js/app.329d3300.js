(function(t){function e(e){for(var i,s,o=e[0],r=e[1],c=e[2],d=0,m=[];d<o.length;d++)s=o[d],n[s]&&m.push(n[s][0]),n[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(m.length)m.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],i=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(i=!1)}i&&(l.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},l=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0073":function(t,e,a){"use strict";var i=a("a85a"),n=a.n(i);e["default"]=n.a},"0416":function(t,e,a){"use strict";var i=a("d2b5"),n=a.n(i);n.a},"045b":function(t,e,a){},"05f1":function(t,e,a){"use strict";var i=a("817f"),n=a("772e"),l=a("2877"),s=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},"0724":function(t,e){},"0b5c":function(t,e,a){"use strict";var i=a("5183"),n=a.n(i);n.a},"11ff":function(t,e,a){"use strict";var i=a("a0a5"),n=a.n(i);n.a},"15b9":function(t,e,a){},"17c5":function(t,e,a){},"1a17":function(t,e){},"1a71":function(t,e,a){"use strict";var i=a("eea1"),n=a.n(i);n.a},"2cdc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("物资购销")])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},3441:function(t,e,a){"use strict";var i=a("3dfe"),n=a.n(i);n.a},"3dfe":function(t,e,a){},"3e5a":function(t,e,a){"use strict";var i=a("5799"),n=a.n(i);n.a},"3f06":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("不写")])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"40e0":function(t,e,a){},"40f4":function(t,e,a){},"426c":function(t,e,a){"use strict";var i=a("8168"),n=a.n(i);n.a},4515:function(t,e,a){},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=l(t);return a(e)}function l(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(i)},n.resolve=l,t.exports=n,n.id="4678"},"517b":function(t,e,a){"use strict";var i=a("df42"),n=a.n(i);n.a},5183:function(t,e,a){},5498:function(t,e,a){"use strict";var i=a("1a17"),n=a.n(i);e["default"]=n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],s={name:"app"},o=s,r=a("2877"),c=Object(r["a"])(o,n,l,!1,null,null,null),u=c.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100%"}},[a("el-header",{staticStyle:{"font-size":"12px"}},[a("span",{staticClass:"el-menu-item menu-text",staticStyle:{"font-size":"25px","font-weight":"bolder",color:"white",width:"250px"}},[t._v("攀枝花物流管理平台")]),a("el-popconfirm",{attrs:{"confirm-button-text":"退出","cancel-button-text":"点错了",icon:"el-icon-info","icon-color":"red",title:"请问您是否要退出登录 ? "},on:{confirm:function(e){return t.loginOutUser()}}},[a("span",{staticClass:"el-menu-item menu-text menu-float",attrs:{slot:"reference"},slot:"reference"},[t._v("退出登录")])]),a("img",{staticClass:"el-menu-item menu-text menu-img",attrs:{src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fp0.itc.cn%2Fq_70%2Fimages03%2F20210626%2F71f657c7c43242a684f22c3ea6b858c8.gif&refer=http%3A%2F%2Fp0.itc.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1658753581&t=00bc4b5c7ae62191b0ffe16863280f25"}}),a("span",{staticClass:"el-menu-item menu-text menu-float"},[t._v("欢迎您"+t._s(t.userName)+", 您是"+t._s(t.authorityName))])],1),a("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"rgb(237, 236, 246)"},attrs:{width:"250px"}},[a("el-menu",{staticStyle:{height:"500px"},attrs:{router:"","default-active":this.$router.path}},[a("el-menu-item",{attrs:{index:"mainPage"}},[a("i",{staticClass:"el-icon-message"}),t._v("首页")]),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("基本信息管理")]),a("el-menu-item",{attrs:{index:"employee"}},[t._v("人员信息管理")]),a("el-menu-item",{attrs:{index:"car"}},[t._v("车辆信息管理")]),a("el-menu-item",{attrs:{index:"address"}},[t._v("地址基本信息管理")]),a("el-menu-item",{attrs:{index:"company"}},[t._v("公司信息管理")]),a("el-menu-item",{attrs:{index:"material"}},[t._v("物资管理")]),a("el-menu-item",{attrs:{index:"certification"}},[t._v("证件信息管理")]),a("el-menu-item",{attrs:{index:"goods"}},[t._v("货物信息管理")]),a("el-menu-item",{attrs:{index:"build"}},[t._v("建筑信息管理")]),a("el-menu-item",{attrs:{index:"equipment"}},[t._v("机电设备管理")])],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),t._v("购销存管理")]),a("el-menu-item",{attrs:{index:"carManage"}},[t._v("汽车购销")]),a("el-menu-item",{attrs:{index:"goodsManage"}},[t._v("货物购销")])],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),t._v("汽车修检记录")]),a("el-menu-item",{attrs:{index:"carFixLog"}},[t._v("车辆维修记录")])],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-truck"}),t._v("运输调度")]),a("el-menu-item",{attrs:{index:"carOperation"}},[t._v("车辆运输记录")])],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-view"}),t._v("对外合作")]),a("el-menu-item",{attrs:{index:"communication"}},[t._v("信息交流")]),a("el-menu-item",{attrs:{index:"advertisement"}},[t._v("广告信息交流")])],2)],1)],1),a("el-main",[a("div",[a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:">"}},[a("transition-group",{attrs:{name:"breadcrumb"}},t._l(t.levelList,function(e){return a("el-breadcrumb-item",{key:e.path,attrs:{to:{path:e.path}}},[a("span",[t._v(t._s(e.meta.title))])])}),1)],1)],1),a("router-view",[a("router-view")],1)],1)],1)],1)},p=[],f=(a("d25f"),a("6c7b"),a("bc3a")),h=a.n(f),g=a("5c96"),b=a.n(g),y="http://localhost:8080",v=h.a.create({baseURL:y,timeout:1e4,withCredentials:!0,crossDomain:!0});v.interceptors.response.use(function(t){if(console.log("hhhh"),console.log(t),t.data){if(200==t.data.code)return t.data;if(-2==t.data.code)return Hi.push({name:"login",query:{message:"登录失效"}}),!1;Object(g["Message"])({message:t.data.message,type:"error"})}return-1},function(t){return Promise.reject(t)});var x=v;function _(t){return x({url:"/login",method:"post",data:t})}function w(t){return x({url:"/loginOut",method:"get",data:t})}function k(t,e){localStorage.setItem(t,e)}function T(t){return localStorage.getItem(t)}var S={data:function(){var t={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{levelList:null,userAccount:"",userName:"",authorityName:"",menuList:[],tableData:Array(20).fill(t)}},watch:{$route:function(){this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var t=this.$route.matched.filter(function(t){return t.meta&&t.meta.title}),e=t[0];this.isIndex(e)?this.levelList=[{path:"/",meta:{title:"首页"}}]:(t=[].concat(t),this.levelList=t)},isIndex:function(t){var e=t&&t.redirect;return!!e&&"/"===e},handleSelect:function(t,e){console.log(t),console.log(e)},loginOutUser:function(){var t=this;w().then(function(){t.$router.push({name:"login"})}),this.$message.warning("退出登录")},initRouter:function(){var t=JSON.parse(T("userInfo"));this.userName=t.userName,this.authorityName=t.authorityName}},mounted:function(){var t=this;this.$nextTick(function(){t.activeIndex=t.$route.path,t.initRouter()})}},C=S,$=(a("0416"),Object(r["a"])(C,m,p,!1,null,null,null)),L=$.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("el-alert",{staticStyle:{position:"fixed"},attrs:{title:"欢迎使用攀枝花物流管理平台",type:"success",closable:!1}}),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:16,xl:16}},[a("div",{staticStyle:{color:"transparent"}},[t._v("占位符")])]),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,rules:t.rules,"label-position":"left"}},[a("div",{staticClass:"title"},[t._v("hello !")]),a("div",{staticClass:"title-tips"},[t._v("欢迎来到"+t._s(t.title)+"！")]),a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{prop:"username"}},[a("span",{staticClass:"svg-container svg-container-admin"},[a("vab-icon",{attrs:{icon:["fas","user"]}})],1),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"请输入用户名",tabindex:"1",type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username","string"===typeof e?e.trim():e)},expression:"form.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:["fas","lock"]}})],1),a("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,tabindex:"2",placeholder:"请输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin2(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}}),"password"===t.passwordType?a("span",{staticClass:"show-password",on:{click:t.handlePassword}},[a("vab-icon",{attrs:{icon:["fas","eye-slash"]}})],1):a("span",{staticClass:"show-password",on:{click:t.handlePassword}},[a("vab-icon",{attrs:{icon:["fas","eye"]}})],1)],1),a("el-button",{staticClass:"login-btn",attrs:{loading:t.loading,type:"primary"},on:{click:t.handleLogin2}},[t._v("\n\t\t\t\t\t登录\n\t\t\t\t")]),a("router-link",{attrs:{to:"/register"}},[a("div",{staticStyle:{"margin-top":"20px",color:"darkred"}},[t._v("注册")])])],1)],1)],1)],1)},j=[];a("6b54"),a("87b3"),a("2caf"),a("4f37"),a("57e7");function N(t){return t.length>=6}var I={name:"Login",directives:{focus:{inserted:function(t){t.querySelector("input").focus()}}},data:function(){var t=function(t,e,a){""==e?a(new Error("用户名不能为空")):a()},e=function(t,e,a){N(e)?a():a(new Error("密码不能少于6位"))};return{nodeEnv:"production",title:"h",form:{username:"",password:""},rules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:e}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect||"/"},immediate:!0}},created:function(){document.body.style.overflow="hidden"},beforeDestroy:function(){document.body.style.overflow="auto"},mounted:function(){},methods:{handlePassword:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){t.$refs.password.focus()})},handleLogin:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.loading=!0,console.log(t.form),t.$router.push({name:"home"})})},handleLogin2:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$message.error("请输入正确的用户名和密码"),!1;t.loading=!0;var a={userId:t.form.username,userPwd:t.form.password};_(a).then(function(e){if(-1!=e){k("userInfo",JSON.stringify(e.datas));var a=e.datas;"普通用户"==a.authorityName?(t.$message.error("你不是管理员！"),t.loading=!1):(t.$router.push({name:"home"}),t.$message.success("登录成功"))}else setTimeout(function(){t.loading=!1},3e3)})})}}},V=I,E=(a("c935"),Object(r["a"])(V,z,j,!1,null,"fc88486c",null)),O=E.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"background-color":"rgb(255, 255, 255)",padding:"10px",height:"495px"}},[a("div",{staticClass:"main-top-card",staticStyle:{"margin-top":"50px"}},[a("el-card",{staticClass:"box-card",staticStyle:{"background-image":"repeating-linear-gradient(122.5deg,rgb(255,253,20) -11.3%, rgba(214,49,102,1) 99.5%, rgba(43,60,194,1) 0, rgba(80,141,133, 0) 137.2%)"}},[a("div",{staticClass:"text item"},[a("div",[a("i",{staticClass:"el-icon-user-solid icon-size icon-color-user"})]),a("div",[a("div",{staticClass:"card-text card-num"},[t._v("用户总数")]),a("div",{staticClass:"card-num"},[t._v(t._s(t.userCount))])])])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-image":"repeating-linear-gradient(304.9deg,rgb(255,253,20) -13.7%, rgba(4,202,223,1) 99.5%, rgba(131,194,43,1) 0, rgba(80,141,133, 0) 112.4%)"}},[a("div",{staticClass:"text item"},[a("div",[a("i",{staticClass:"el-icon-document icon-size icon-color-doc"})]),a("div",[a("div",{staticClass:"card-text card-num"},[t._v("订单总数")]),a("div",{staticClass:"card-num"},[t._v(t._s(t.totalOrder))])])])]),a("el-card",{staticClass:"box-card",staticStyle:{"background-image":"repeating-linear-gradient(303.8deg,rgba(253,253,192,1) -13.4%, rgba(189,68,204,1) 96.1%, rgba(80,141,133,0) 115.9%)"}},[a("div",{staticClass:"text item"},[a("div",[a("i",{staticClass:"el-icon-s-flag icon-size icon-color-user-type"})]),a("div",[a("div",{staticClass:"card-text card-num"},[t._v("销售额")]),a("div",{staticClass:"card-num"},[t._v(t._s(t.totalMoney))])])])])],1),a("el-row",{staticStyle:{"margin-top":"100px"}},[a("el-col",{attrs:{span:7}},[a("div",[a("el-card",{staticClass:"box-card-echarts"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waitcharts,expression:"waitcharts"}],staticClass:"text item echarts-render",attrs:{"element-loading-text":"正在疯狂加载",id:"typeEcharts"}})])],1)]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content"},[a("el-card",{staticClass:"box-card-echarts"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.waitcharts,expression:"waitcharts"}],staticClass:"text item echarts-render",attrs:{"element-loading-text":"正在疯狂加载",id:"moneyEcharts"}})])],1)]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content "},[a("div",{staticClass:"grid-content"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.waitcharts,expression:"waitcharts"}],staticClass:"box-card-echarts-last",attrs:{"element-loading-text":"正在疯狂加载",id:"transporEcharts"}},[a("div")])],1)])])],1)],1)])},M=[];a("55dd"),a("ac6a"),a("f3e2");function B(){return x({url:"/user/total",method:"post"})}function D(t){return x({url:"/merchandiseinfo/queryByCondition",method:"post",data:t})}function P(t){return x({url:"/carchange/getByOperation",method:"post",data:t})}function F(t){return x({url:"/matetialinfo/selectByName",method:"post",data:t})}function A(t){return x({url:"/transportationinfo/queryByCondition",method:"post",data:t})}function q(t){return x({url:"/matetialinfo/selectByType",method:"post",data:t})}function U(){return x({url:"/user/getSalesValue",method:"get"})}var R={data:function(){return{adList:["http://5b0988e595225.cdn.sohucs.com/images/20180122/6ac4ce92c3414bcc9dcb9811cffd977d.jpeg","http://pic.baike.soso.com/ugc/baikepic2/18371/20180116183604-135628557_jpg_1024_697_59019.jpg/0","https://file03.sg560.com/upimg01/2016/08/918087/Content/1827352901932343918087.jpg"],waitcharts:!0,totalOrder:"0",userCount:"",totalMoney:"",typeoption:{title:{text:"订单类型 ",left:"center"},tooltip:{trigger:"item"},legend:{show:!1},series:[{avoidLabelOverlap:!0,name:"Access From",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},moneyoption:{backgroundColor:"#ffffff",title:{text:"耗材清单",left:"center",top:0,textStyle:{color:"#000"}},tooltip:{trigger:"item"},visualMap:{show:!1,min:0,max:200,inRange:{colorLightness:[0,1.5]}},series:[{name:"耗材清单",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:274,name:"Union Ads"},{value:235,name:"Video Ads"}],roseType:"radius",label:{color:"rgba(0,0,0,0.5)"},labelLine:{lineStyle:{color:"rgba(0,0,0, 0.3)"},smooth:.2,length:10,length2:20},itemStyle:{color:"#aaffff",shadowBlur:200,shadowColor:"rgba(255, 255, 127, 0.5)"},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()}}]},transporoption:{title:{text:"运输利润",left:"center",top:20},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"rgba(0,0,0,0.2)",width:1,type:"solid"}}},legend:{show:!1},singleAxis:{top:50,bottom:50,axisTick:{},axisLabel:{},type:"time",axisPointer:{animation:!0,label:{show:!0}},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},series:[{type:"themeRiver",emphasis:{itemStyle:{colorBy:"data",shadowBlur:20,shadowColor:"rgba(0, 255, 127, 0.8)"}},data:[["2015/11/08",10,"DQ"],["2015/11/09",15,"DQ"],["2015/11/10",35,"DQ"],["2015/11/11",38,"DQ"],["2015/11/12",22,"DQ"],["2015/11/13",16,"DQ"]]}]}}},methods:{getTyprEcharts:function(){var t=this;this.moneyoption.series[0].data=[],this.typeoption.series[0].data=[],this.transporoption.series[0].data=[],U().then(function(e){-1!=e&&(t.totalMoney=e.datas)}),B().then(function(e){-1!=e&&(t.userCount=e.datas)}),q({materialtypeId:1}).then(function(e){-1!=e&&t.moneyoption.series[0].data.push({value:parseInt(e.datas),name:"办公耗材"})}),q({materialtypeId:2}).then(function(e){-1!=e&&t.moneyoption.series[0].data.push({value:parseInt(e.datas),name:"卫生耗材"})}),q({materialtypeId:3}).then(function(e){console.log(e),-1!=e&&t.moneyoption.series[0].data.push({value:parseInt(e.datas),name:"人员耗材"})}),q({materialtypeId:4}).then(function(e){console.log(e),-1!=e&&t.moneyoption.series[0].data.push({value:parseInt(e.datas),name:"团建耗材"})}),A({}).then(function(e){console.log(e),-1!=e&&(t.typeoption.series[0].data.push({value:parseInt(e.datas.length),name:"运输订单"}),t.totalOrder=parseInt(t.totalOrder)+parseInt(e.datas.length),e.datas.forEach(function(e,a){t.transporoption.series[0].data.push([e.transportationStartTime,parseInt(e.transportationMoney),"利润"])}),console.log("************"))}),D({}).then(function(e){-1!=e&&(t.totalOrder=parseInt(t.totalOrder)+parseInt(e.datas.length),t.typeoption.series[0].data.push({value:parseInt(e.datas.length),name:"货物订单"}))});var e={page:1,limit:1e3,materialName:""};F(e).then(function(e){-1!=e&&(t.totalOrder=parseInt(t.totalOrder)+parseInt(e.datas.length),t.typeoption.series[0].data.push({value:parseInt(e.datas.length),name:"物资订单"}))}),P({}).then(function(e){-1!=e&&(t.totalOrder=parseInt(t.totalOrder)+parseInt(e.datas.length),t.typeoption.series[0].data.push({value:parseInt(e.datas.length),name:"汽车购销"}))})},drawEcharts:function(){var t=this,e=this.$echarts.init(document.getElementById("typeEcharts")),a=this.$echarts.init(document.getElementById("moneyEcharts")),i=this.$echarts.init(document.getElementById("transporEcharts"));setTimeout(function(){t.moneyoption.series[0].data.sort(function(t,e){return e.value-t.value}),e.setOption(t.typeoption),a.setOption(t.moneyoption),i.setOption(t.transporoption),console.log("+++++++++++++++++++++++++++++++"),t.waitcharts=!1},500)}},mounted:function(){this.getTyprEcharts(),this.drawEcharts()}},H=R,G=(a("b191"),Object(r["a"])(H,Q,M,!1,null,null,null)),J=G.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"93.5vh"},attrs:{"default-active":t.activeIndex,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""}},t._l(t.menuList,function(e,i){return a("el-menu-item",{key:i,attrs:{index:e.path,route:e.path}},[a("i",{class:e.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])}),1)],1),a("el-main",[a("router-view")],1)],1)},Y=[],X={data:function(){return{menuList:[]}},methods:{},mounted:function(){if(console.log(this.$route.query.childrenMenus),this.$route.query.childrenMenus)k("managerChildren",this.$route.query.childrenMenus),this.menuList=JSON.parse(this.$route.query.childrenMenus);else{var t=T("managerChildren");this.menuList=JSON.parse(t)}}},K=X,Z=Object(r["a"])(K,W,Y,!1,null,null,null),tt=(Z.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-top":"15px"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.queryData,callback:function(e){t.queryData=e},expression:"queryData"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.selectData,callback:function(e){t.selectData=e},expression:"selectData"}},t._l(t.categoryList,function(t,e){return a("el-option",{key:e,attrs:{label:t.categoryName,value:t.categoryId}})}),1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.selectDoc},slot:"append"},[t._v(" 查询")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:t.docList,stripe:""}},[a("el-table-column",{attrs:{width:"100px;",align:"center",prop:"docId",label:"主键ID"}}),a("el-table-column",{attrs:{width:"150px;",align:"center",prop:"categoryName",label:"类型名称"}}),a("el-table-column",{attrs:{align:"center",prop:"docTitle",label:"文档名称"}}),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"docSummary",label:"文档概要"}}),a("el-table-column",{attrs:{align:"center",prop:"docUploaduser",label:"上传者"}})],1)],1)])}),et=[],at={data:function(){return{docList:[],selectData:"",queryData:"",categoryList:[],loading:!0}},methods:{initCategoryList:function(){var t=this;(void 0)({}).then(function(e){-1!=e&&(e.datas.unshift({categoryId:"",categoryName:"全部"}),t.categoryList=e.datas)})},initDocList:function(){var t=this;this.loading=!0;var e={categoryId:this.selectData,docTitle:this.queryData};(void 0)(e).then(function(e){-1!=e&&(t.docList=e.datas,t.loading=!1)})},selectDoc:function(){(void 0)({id:105}).then()}},mounted:function(){var t=this;this.$nextTick(function(){t.initDocList(),t.initCategoryList()})}},it=at,nt=(a("eb21"),Object(r["a"])(it,tt,et,!1,null,null,null)),lt=(nt.exports,a("05f1")),st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入地区",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n\t\t          搜索\n\t\t        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n\t\t          刷新\n\t\t        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n\t\t          新增\n\t\t        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",staticStyle:{width:"100%"},attrs:{data:t.addressList.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t  "+t._s(e.row.index)+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"省份",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t  "+t._s(e.row.addressProvince)+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"城市",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t  "+t._s(e.row.addressCity)+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"地区",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.addressName))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t\t\t修改\n\t\t\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t\t\t删除\n\t\t\t\t\t")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"省份"}},[a("el-input",{attrs:{placeholder:"请输入省份"},model:{value:t.temp.addressProvince,callback:function(e){t.$set(t.temp,"addressProvince",e)},expression:"temp.addressProvince"}})],1),a("el-form-item",{attrs:{label:"城市"}},[a("el-input",{attrs:{placeholder:"请输入城市"},model:{value:t.temp.addressCity,callback:function(e){t.$set(t.temp,"addressCity",e)},expression:"temp.addressCity"}})],1),a("el-form-item",{attrs:{label:"地区"}},[a("el-input",{attrs:{placeholder:"请输入地区"},model:{value:t.temp.addressName,callback:function(e){t.$set(t.temp,"addressName",e)},expression:"temp.addressName"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t\t  取消\n\t\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n\t\t\t  确定\n\t\t\t")])],1)],1)},ot=[];function rt(t){return x({url:"/addressinfo/queryByCondition",method:"post",data:t})}function ct(t){return x({url:"/addressinfo/add",method:"post",data:t})}function ut(t){return x({url:"/addressinfo/update",method:"post",data:t})}function dt(t){return x({url:"/addressinfo/deleteById",method:"post",data:t})}a("456d");var mt=a("7618");function pt(t){if(!t&&"object"!==Object(mt["a"])(t))throw new Error("error arguments","deepClone");var e=t.constructor===Array?[]:{};return Object.keys(t).forEach(function(a){t[a]&&"object"===Object(mt["a"])(t[a])?e[a]=pt(t[a]):e[a]=t[a]}),e}var ft={addressProvince:"",addressCity:"",addressName:""},ht={data:function(){return{listLoading:!0,inputData:"",addressList:[],temp:Object.assign({},ft),dialogVisible:!1,dialogType:"create",cur_page:1,pageSize:10,total:0}},methods:{initAddressList:function(){var t=this;this.listLoading=!0,rt({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.addressList=e.datas,t.total=t.addressList.length,t.listLoading=!1)})},search:function(){var t=this,e={addressName:this.inputData};console.log(e),this.listLoading=!0,rt(e).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.addressList=e.datas,t.total=t.addressList.length,t.cur_page=1,t.listLoading=!1)})},refresh:function(){this.initAddressList()},resetTemp:function(){this.temp=Object.assign({},ft)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){dt({id:t.row.addressId}).then(function(){e.initAddressList(),setTimeout(function(){e.$message({message:"删除成功",type:"success"})},300)})})},submit:function(){var t=this;if(!this.listLoading){var e=this.temp;"modify"==this.dialogType?ut(e).then(function(e){-1!=e&&(t.$message({message:"修改成功",type:"success"}),t.dialogVisible=!1,t.initAddressList())}):ct(e).then(function(e){-1!=e&&(t.$message({message:"添加成功",type:"success"}),t.dialogVisible=!1,t.initAddressList())})}},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.initAddressList()})}},gt=ht,bt=(a("7a12"),Object(r["a"])(gt,st,ot,!1,null,null,null)),yt=bt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入建筑名称",clearable:""},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n          搜索\n        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n          刷新\n        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n          新增\n        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.buildlist,"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.index)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"建筑名称",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.bulidName)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"建筑类型",width:"120\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.buildStyle)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"是否租售",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(1===parseInt(e.row.buildRent)?"是":"否"))])]}}])}),a("el-table-column",{attrs:{label:"面积(单位:平方)",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.buildArea)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"负责人",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.buildPerson)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"地址",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t  \t\t\t  "+t._s(e.row.addressProvince)+t._s(e.row.addressCity)+t._s(e.row.addressName)+"\n\t  \t\t\t")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t  修改\n\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t  删除\n\t\t\t")])],1)]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,50,100],"page-size":200,layout:"total, sizes, prev, pager, next, jumper",total:t.listQuery.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"temp",staticClass:"demo-ruleForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right",rules:t.rules}},[a("el-form-item",{attrs:{label:"建筑名称",prop:"bulidName"}},[a("el-input",{attrs:{placeholder:"请输入建筑名称"},model:{value:t.temp.bulidName,callback:function(e){t.$set(t.temp,"bulidName",e)},expression:"temp.bulidName"}})],1),a("el-form-item",{attrs:{label:"建筑类型"}},[a("el-input",{attrs:{placeholder:"请输入建筑类型"},model:{value:t.temp.buildStyle,callback:function(e){t.$set(t.temp,"buildStyle",e)},expression:"temp.buildStyle"}})],1),a("el-form-item",{attrs:{label:"是否出租",prop:"buildRent"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.temp.buildRent,callback:function(e){t.$set(t.temp,"buildRent",e)},expression:"temp.buildRent"}},[t._v("是")]),a("el-radio",{attrs:{label:"0"},model:{value:t.temp.buildRent,callback:function(e){t.$set(t.temp,"buildRent",e)},expression:"temp.buildRent"}},[t._v("否")])],1),a("el-form-item",{attrs:{label:"面积(单位:平方)"}},[a("el-input",{attrs:{placeholder:"请输入面积(单位:平方)"},model:{value:t.temp.buildArea,callback:function(e){t.$set(t.temp,"buildArea",e)},expression:"temp.buildArea"}})],1),a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{placeholder:"负责人"},model:{value:t.temp.buildPerson,callback:function(e){t.$set(t.temp,"buildPerson",e)},expression:"temp.buildPerson"}})],1),a("el-form-item",{attrs:{label:"地址",prop:"addressId"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.temp.addressId,callback:function(e){t.$set(t.temp,"addressId",e)},expression:"temp.addressId"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.addressProvince+t.addressCity+t.addressName,value:t.addressId}})}),1)],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t  取消\n\t")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("temp")}}},[t._v("\n\t  确定\n\t")])],1)],1)},xt=[];function _t(t){return x({url:"/buildinfo/getBuildByName",method:"post",data:t})}function wt(t){return x({url:"/buildinfo/edit",method:"post",data:t})}function kt(t){return x({url:"/buildinfo/add",method:"post",data:t})}function Tt(t){return x({url:"/buildinfo/deleteById",method:"post",data:t})}var St={buildId:"",addressId:"",bulidName:"",buildStyle:"",buildRent:"",buildArea:"",buildPerson:""},Ct={data:function(){return{rent:1,listLoading:!0,buildlist:[],listQuery:{page:1,limit:10,total:0},temp:Object.assign({},St),dialogVisible:!1,dialogType:"create",searchName:"",options:[],value:"",rules:{addressId:[{required:!0,message:"请选择类型",trigger:"change"}],bulidName:[{required:!0,message:"请输入名称",trigger:"blur"}],buildRent:[{required:!0,message:"请选择是否出租",trigger:"blur"}]}}},methods:{handleSizeChange:function(t){this.listQuery.limit=t,console.log(t),this.initBuildlist()},handleCurrentChange:function(t){this.listQuery.page=t,console.log(t),this.initBuildlist()},initBuildlist:function(){var t=this;this.listLoading=!0;var e={bulidName:this.searchName,page:this.listQuery.page,limit:this.listQuery.limit};_t(e).then(function(e){-1!=e&&(e.datas.forEach(function(e,a){e.index=(t.listQuery.page-1)*t.listQuery.limit+a+1}),t.listQuery.total=e.total,t.listLoading=!1,t.buildlist=e.datas,t.listLoading=!1)})},search:function(){var t=this;this.listLoading=!0;var e={bulidName:this.searchName,page:this.listQuery.page,limit:this.listQuery.limit};console.log(this.searchName),_t(e).then(function(e){console.log(e),t.listLoading=!1,e.datas.forEach(function(t,e){t.index=e+1}),t.buildlist=e.datas,t.listQuery.total=e.total,t.listLoading=!1,console.log(e)})},refresh:function(){this.initBuildlist()},resetTemp:function(){this.temp=Object.assign({},St)},add:function(){var t=this;rt({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),console.log(e),t.options=e.datas,t.listLoading=!1)}),this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["temp"].clearValidate()})},edit:function(t){var e=this;rt({}).then(function(t){-1!=t&&(t.datas.forEach(function(t,e){t.index=e+1}),console.log(t),e.options=t.datas,e.listLoading=!1)}),this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["temp"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){var a={buildId:t.row.buildId};console.log(a.buildId),Tt(a).then(function(t){console.log(t),200==t.code?e.$message({message:"删除成功",type:"success"}):e.$message({message:"删除失败",type:"success"})}),setTimeout(function(){e.initBuildlist()},300)})})},submit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.submit1()})},submit1:function(){var t=this;this.listLoading||(this.listLoading=!0,setTimeout(function(){var e=t.temp;"modify"==t.dialogType?wt(e).then(function(e){console.log(e),200==e.code?t.$message({message:"提交成功",type:"success"}):t.$message({message:"提交失败",type:"success"})}):"create"==t.dialogType&&(console.log(e),kt(e).then(function(e){200==e.code?t.$message({message:"新增成功",type:"success"}):t.$message({message:"新增失败",type:"success"})})),t.dialogVisible=!1,t.listLoading=!1}),setTimeout(function(){t.initBuildlist()},300),console.log("shengxiao "))}},mounted:function(){var t=this;this.$nextTick(function(){t.initBuildlist()})}},$t=Ct,Lt=(a("426c"),Object(r["a"])($t,vt,xt,!1,null,null,null)),zt=Lt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入车牌号",clearable:""},model:{value:t.listQuery.carNumber,callback:function(e){t.$set(t.listQuery,"carNumber",e)},expression:"listQuery.carNumber"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{loading:t.searchloading,size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n\t          搜索\n\t        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n\t          刷新\n\t        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.insert}},[t._v("\n\t          新增\n\t        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.carList,"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.index)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车牌号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.carNumber)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车型",width:"180\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.carStyle)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车辆载重(单位:吨)",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.carLoad))])]}}])}),a("el-table-column",{attrs:{label:"车辆里程数(单位:千米)",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.carMileage)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车辆品牌",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.carBrand)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t\t  修改\n\t\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t\t  删除\n\t\t\t\t")])],1)]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,50,100],"page-size":200,layout:"total, sizes, prev, pager, next, jumper",total:t.listQuery.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"车牌号"}},[a("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:t.temp.carNumber,callback:function(e){t.$set(t.temp,"carNumber",e)},expression:"temp.carNumber"}})],1),a("el-form-item",{attrs:{label:"车型"}},[a("el-input",{attrs:{placeholder:"请输入车型"},model:{value:t.temp.carStyle,callback:function(e){t.$set(t.temp,"carStyle",e)},expression:"temp.carStyle"}})],1),a("el-form-item",{attrs:{label:"车辆载重(单位:t)"}},[a("el-input-number",{attrs:{min:0,label:"车辆载重(单位:吨)"},on:{change:t.handleChange},model:{value:t.temp.carLoad,callback:function(e){t.$set(t.temp,"carLoad",e)},expression:"temp.carLoad"}})],1),a("el-form-item",{attrs:{label:"车辆里程数(单位:km)"}},[a("el-input-number",{attrs:{min:0,label:"车辆载重(单位:吨)"},on:{change:t.handleChange},model:{value:t.temp.carMileage,callback:function(e){t.$set(t.temp,"carMileage",e)},expression:"temp.carMileage"}})],1),a("el-form-item",{attrs:{label:"车辆品牌"}},[a("el-input",{attrs:{placeholder:"请输入车辆品牌"},model:{value:t.temp.carBrand,callback:function(e){t.$set(t.temp,"carBrand",e)},expression:"temp.carBrand"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t  取消\n\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n\t\t  确定\n\t\t")])],1)],1)},Nt=[];function It(t){return x({url:"/carinfo/queryByPage",method:"post",data:t})}function Vt(t){return x({url:"/carinfo/add",method:"post",data:t})}function Et(t){return x({url:"/carinfo/update",method:"post",data:t})}function Ot(t){return x({url:"/carinfo/deleteById",method:"post",data:t})}var Qt={carNumber:"",carStyle:"",carLoad:"",carMileage:"",carBrand:""},Mt={data:function(){return{searchloading:!1,listLoading:!0,carList:[],listQuery:{limit:10,page:1,total:0,carNumber:""},temp:Object.assign({},Qt),dialogVisible:!1,dialogType:"create"}},methods:{handleSizeChange:function(t){this.listQuery.limit=t,this.initCarList()},handleCurrentChange:function(t){this.listQuery.page=t,this.initCarList()},initCarList:function(){var t=this;this.listLoading=!0;var e={carNumber:this.listQuery.carNumber,page:this.listQuery.page,limit:this.listQuery.limit};It(e).then(function(e){console.log(e),-1!=e&&(0===e.datas.length&&(t.listLoading=!1,Object(g["Message"])({message:"查询结果为空",type:"error"})),e.datas.forEach(function(e,a){e.index=(t.listQuery.page-1)*t.listQuery.limit+a+1}),t.carList=e.datas,t.listQuery.total=e.total,setTimeout(function(){t.listLoading=!1},200))})},search:function(){var t=this;this.searchloading=!0,this.initCarList(),setTimeout(function(){t.searchloading=!1},1500)},refresh:function(){this.listQuery.page=1,this.initCarList()},resetTemp:function(){this.temp=Object.assign({},Qt)},insert:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Ot({id:t.row.carId}).then(function(){e.initCarList(),setTimeout(function(){e.list.splice(t.$index,1),e.$message({message:"删除成功",type:"success"})},300)})})},submit:function(){var t=this;this.listLoading||(this.listLoading=!0,"create"===this.dialogType?(Vt(this.temp),this.initCarList()):"modify"===this.dialogType&&(Et(this.temp),this.initCarList()),setTimeout(function(){t.$message({message:"成功",type:"success"}),t.dialogVisible=!1,t.listLoading=!1},100))}},mounted:function(){var t=this;this.$nextTick(function(){t.initCarList()})}},Bt=Mt,Dt=(a("0b5c"),Object(r["a"])(Bt,jt,Nt,!1,null,null,null)),Pt=Dt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入公司名称",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n\t\t\t搜索\n\t\t")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:function(e){return t.refresh()}}},[t._v("\n\t\t\t刷新\n\t\t")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.add()}}},[t._v("\n\t\t\t新增\n\t\t")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.companyList.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.index)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"公司名称",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyName)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"建立时间",width:"180\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyTime)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"地址",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.companyCity))])]}}])}),a("el-table-column",{attrs:{label:"公司规模",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyNumber)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"公司网址",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyWebside)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"公司代码",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyCode)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"联系人",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyPerson)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"联系电话",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.companyMobile)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t\t\t\t修改\n\t\t\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t\t\t\t删除\n\t\t\t\t\t")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.temp.companyName,callback:function(e){t.$set(t.temp,"companyName",e)},expression:"temp.companyName"}})],1),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.temp.companyTime,callback:function(e){t.$set(t.temp,"companyTime",e)},expression:"temp.companyTime"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{placeholder:"请输入公司所在地址"},model:{value:t.temp.companyCity,callback:function(e){t.$set(t.temp,"companyCity",e)},expression:"temp.companyCity"}})],1),a("el-form-item",{attrs:{label:"公司规模"}},[a("el-input",{attrs:{placeholder:"请输入公司规模"},model:{value:t.temp.companyNumber,callback:function(e){t.$set(t.temp,"companyNumber",e)},expression:"temp.companyNumber"}})],1),a("el-form-item",{attrs:{label:"公司官网"}},[a("el-input",{attrs:{placeholder:"请输入网址"},model:{value:t.temp.companyWebside,callback:function(e){t.$set(t.temp,"companyWebside",e)},expression:"temp.companyWebside"}})],1),a("el-form-item",{attrs:{label:"公司代码"}},[a("el-input",{attrs:{placeholder:"请输入代码"},model:{value:t.temp.companyCode,callback:function(e){t.$set(t.temp,"companyCode",e)},expression:"temp.companyCode"}})],1),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.temp.companyPerson,callback:function(e){t.$set(t.temp,"companyPerson",e)},expression:"temp.companyPerson"}})],1),a("el-form-item",{attrs:{label:"公司联系方式"}},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:t.temp.companyMobile,callback:function(e){t.$set(t.temp,"companyMobile",e)},expression:"temp.companyMobile"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t\t取消\n\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("\n\t\t\t确定\n\t\t")])],1)],1)},At=[];function qt(t){return x({url:"/companyinfo/queryByName",method:"post",data:t})}function Ut(t){return x({url:"/companyinfo/updateCompany",method:"post",data:t})}function Rt(t){return x({url:"/companyinfo/insertCompany",method:"post",data:t})}function Ht(t){return x({url:"/companyinfo/deleteCompany",method:"post",data:t})}var Gt={companyId:"",companyName:"",companyTime:"",companyCity:"",companyNumber:"",companyWebside:"",companyCode:"",companyPerson:"",companyMobile:""},Jt={data:function(){return{listLoading:!0,inputData:"",companyList:[],temp:Object.assign({},Gt),dialogVisible:!1,dialogType:"create",cur_page:1,pageSize:10,total:0}},methods:{init:function(){var t=this;this.listLoading=!0,qt({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.companyList=e.datas,t.total=t.companyList.length,t.listLoading=!1)})},refresh:function(){this.inputData="",this.init()},resetTemp:function(){this.temp=Object.assign({},Gt)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){e.$message({message:"删除成功",type:"success"})},300),e.temp=pt(t.row);var a=e.temp;a.companyTime=Date.parse(new Date(e.temp.companyTime)),Ht(a).then(function(t){-1!=t&&e.init()})})},submit:function(){var t=this;if(!this.listLoading){var e=this.temp;e.companyTime=Date.parse(new Date(this.temp.companyTime)),"modify"==this.dialogType?Ut(e).then(function(e){-1!=e&&(t.$message({message:"提交成功",type:"success"}),t.dialogVisible=!1,t.init())}):Rt(e).then(function(e){-1!=e&&(t.$message({message:"提交成功",type:"success"}),t.dialogVisible=!1,t.init())})}},search:function(){var t=this,e={companyName:this.inputData};this.listLoading=!0,qt(e).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.companyList=e.datas,t.total=t.companyList.length,t.cur_page=1,t.listLoading=!1)})},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})}},Wt=Jt,Yt=(a("f330"),Object(r["a"])(Wt,Ft,At,!1,null,null,null)),Xt=Yt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入姓名",clearable:""},model:{value:t.listQuery.employeeName,callback:function(e){t.$set(t.listQuery,"employeeName",e)},expression:"listQuery.employeeName"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{loading:t.searchloading,size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n        搜索\n      ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n        刷新\n      ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.insert}},[t._v("\n        新增\n      ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.employeeList,"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.index)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"公司名称",width:"155",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.companyName)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.employeeName)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"性别",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.employeeGender))])]}}])}),a("el-table-column",{attrs:{label:"地址",width:"165",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.employeeAddress)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"手机号",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.employeeMobile)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"是否在职",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.employeeStatus)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"身份证号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.employeeNumber)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n              修改\n            ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n              删除\n            ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.listQuery.total>0,expression:"listQuery.total > 0"}],attrs:{total:t.listQuery.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.initEmployeeList}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"公司编号"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.temp.companyId,callback:function(e){t.$set(t.temp,"companyId",e)},expression:"temp.companyId"}},t._l(t.companyList,function(t){return a("el-option",{key:t.value,attrs:{label:t.companyId,value:t.companyId}})}),1)],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.temp.employeeName,callback:function(e){t.$set(t.temp,"employeeName",e)},expression:"temp.employeeName"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.temp.employeeGender,callback:function(e){t.$set(t.temp,"employeeGender",e)},expression:"temp.employeeGender"}},t._l(t.gender,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:t.temp.employeeAddress,callback:function(e){t.$set(t.temp,"employeeAddress",e)},expression:"temp.employeeAddress"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.temp.employeeMobile,callback:function(e){t.$set(t.temp,"employeeMobile",e)},expression:"temp.employeeMobile"}})],1),a("el-form-item",{attrs:{label:"是否在职"}},[a("el-radio-group",{model:{value:t.temp.employeeStatus,callback:function(e){t.$set(t.temp,"employeeStatus",e)},expression:"temp.employeeStatus"}},[a("el-radio",{attrs:{label:"在职",value:"在职"}}),a("el-radio",{attrs:{label:"离职",value:"离职"}})],1)],1),a("el-form-item",{attrs:{label:"身份证"}},[a("el-input",{attrs:{placeholder:"请输入身份证号"},model:{value:t.temp.employeeNumber,callback:function(e){t.$set(t.temp,"employeeNumber",e)},expression:"temp.employeeNumber"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n        取消\n      ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n        确定\n      ")])],1)],1)},Zt=[];function te(t){return x({url:"/employeeinfo/queryByPage",method:"post",data:t})}function ee(t){return x({url:"/employeeinfo/add",method:"post",data:t})}function ae(t){return x({url:"/employeeinfo/update",method:"post",data:t})}function ie(t){return x({url:"/employeeinfo/deleteById",method:"post",data:t})}var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},le=[];a("c5f6");Math.easeInOutQuad=function(t,e,a,i){return t/=i/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var se=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function oe(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function re(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function ce(t,e,a){var i=re(),n=t-i,l=20,s=0;e="undefined"===typeof e?500:e;var o=function t(){s+=l;var o=Math.easeInOutQuad(s,i,n,e);oe(o),s<e?se(t):a&&"function"===typeof a&&a()};o()}var ue={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&ce(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&ce(0,800)}}},de=ue,me=(a("3e5a"),Object(r["a"])(de,ne,le,!1,null,"1c423552",null)),pe=me.exports,fe={companyId:"",employeeAddress:"",employeeDate:"",employeeGender:"",employeeId:"",employeeMobile:"",employeeName:"",employeeNumber:"",employeeStatus:""},he={components:{Pagination:pe},data:function(){return{gender:[{value:"男",label:"男"},{value:"女",label:"女"}],searchloading:!1,listLoading:!0,employeeList:[],companyList:[],listQuery:{limit:10,page:1,total:0,employeeName:""},temp:Object.assign({},fe),dialogVisible:!1,dialogType:"create"}},methods:{getCompanyId:function(){var t=this;qt({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.companyList=e.datas)})},initEmployeeList:function(){var t=this;this.listLoading=!0;var e={employeeName:this.listQuery.employeeName};te(e).then(function(e){-1!=e&&(0===e.datas.length&&(t.listLoading=!1,Object(g["Message"])({message:"查询结果为空",type:"error"})),e.datas.forEach(function(t,e){t.index=e+1}),t.employeeList=e.datas.slice((t.listQuery.page-1)*t.listQuery.limit,t.listQuery.page*t.listQuery.limit),t.listQuery.total=e.total,setTimeout(function(){t.listLoading=!1},100))})},search:function(){var t=this;this.searchloading=!0,this.initEmployeeList(),setTimeout(function(){t.searchloading=!1},200)},refresh:function(){this.listQuery.page=1,this.initEmployeeList()},resetTemp:function(){this.temp=Object.assign({},fe)},insert:function(){var t=this;this.getCompanyId(),this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.getCompanyId(),this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ie({id:t.row.employeeId}).then(function(){e.initEmployeeList(),setTimeout(function(){e.list.splice(t.$index,1),e.$message({message:"删除成功",type:"success"})},100)})})},submit:function(){var t=this;this.listLoading||(this.listLoading=!0,"create"===this.dialogType?ee(this.temp):"modify"===this.dialogType&&ae(this.temp),setTimeout(function(){t.$message({message:"成功",type:"success"}),t.dialogVisible=!1,t.listLoading=!1,t.initEmployeeList()},100))}},mounted:function(){var t=this;this.$nextTick(function(){t.initEmployeeList()})}},ge=he,be=(a("64b8"),Object(r["a"])(ge,Kt,Zt,!1,null,null,null)),ye=be.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入机电设备名",clearable:""},model:{value:t.listQuery.machineName,callback:function(e){t.$set(t.listQuery,"machineName",e)},expression:"listQuery.machineName"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{loading:t.searchloading,size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n      搜索\n    ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n      刷新\n    ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.insert}},[t._v("\n      新增\n    ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.machineList,"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.machineId)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"机电名",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.machineName)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"机电类型",width:"180\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.machineType)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"机电使用年限(单位:年)",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.machineYear))])]}}])}),a("el-table-column",{attrs:{label:"机电功率(单位:瓦特)",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.machinePower)+"\n      ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n            修改\n          ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n            删除\n          ")])],1)]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,50,100],"page-size":200,layout:"total, sizes, prev, pager, next, jumper",total:t.listQuery.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"机电名"}},[a("el-input",{attrs:{placeholder:"请输入机电名"},model:{value:t.temp.machineName,callback:function(e){t.$set(t.temp,"machineName",e)},expression:"temp.machineName"}})],1),a("el-form-item",{attrs:{label:"机电类型"}},[a("el-input",{attrs:{placeholder:"请输入机电类型"},model:{value:t.temp.machineType,callback:function(e){t.$set(t.temp,"machineType",e)},expression:"temp.machineType"}})],1),a("el-form-item",{attrs:{label:"机电使用年限(单位:年)"}},[a("el-input",{attrs:{placeholder:"请输入机电使用年限(单位:年)"},model:{value:t.temp.machineYear,callback:function(e){t.$set(t.temp,"machineYear",e)},expression:"temp.machineYear"}})],1),a("el-form-item",{attrs:{label:"机电功率(单位:瓦特)"}},[a("el-input",{attrs:{placeholder:"请输入机电功率(单位:瓦特)"},model:{value:t.temp.machinePower,callback:function(e){t.$set(t.temp,"machinePower",e)},expression:"temp.machinePower"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n      取消\n    ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n      确定\n    ")])],1)],1)},xe=[];function _e(t){return x({url:"/machineinfo/queryByPage",method:"post",data:t})}function we(t){return x({url:"/machineinfo/add",method:"post",data:t})}function ke(t){return x({url:"/machineinfo/update",method:"post",data:t})}function Te(t){return x({url:"/machineinfo/deleteById",method:"post",data:t})}var Se={machineId:"",machineName:"",machineType:"",machineYear:"",machinePower:""},Ce={data:function(){return{searchloading:!1,listLoading:!0,machineList:[],listQuery:{limit:10,page:1,total:0,machineName:""},temp:Object.assign({},Se),dialogVisible:!1,dialogType:"create"}},methods:{handleSizeChange:function(t){this.listQuery.limit=t,this.initCarList()},handleCurrentChange:function(t){this.listQuery.page=t,this.initCarList()},initCarList:function(){var t=this;this.listLoading=!0;var e={machineName:this.listQuery.machineName,page:this.listQuery.page,limit:this.listQuery.limit};_e(e).then(function(e){-1!=e&&(0===e.datas.length&&(t.listLoading=!1,Object(g["Message"])({message:"查询结果为空",type:"error"})),e.datas.forEach(function(a,i){a.index=(t.listQuery.page-1)*t.listQuery.limit+i+1,t.machineList=e.datas,t.listQuery.total=e.total,setTimeout(function(){t.listLoading=!1},200)}))})},search:function(){var t=this;this.searchloading=!0,this.initCarList(),setTimeout(function(){t.searchloading=!1},1500)},refresh:function(){this.listQuery.page=1,this.initCarList()},resetTemp:function(){this.temp=Object.assign({},Se)},insert:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Te({id:t.row.machineId}).then(function(){e.initCarList(),setTimeout(function(){e.list.splice(t.$index,1),e.$message({message:"删除成功",type:"success"})},300)})})},submit:function(){var t=this;this.listLoading||(this.listLoading=!0,"create"===this.dialogType?(we(this.temp),this.initCarList()):"modify"===this.dialogType&&(ke(this.temp),this.initCarList()),setTimeout(function(){t.$message({message:"成功",type:"success"}),t.dialogVisible=!1,t.listLoading=!1},100))}},mounted:function(){var t=this;this.$nextTick(function(){t.initCarList()})}},$e=Ce,Le=(a("11ff"),Object(r["a"])($e,ve,xe,!1,null,null,null)),ze=Le.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入货物名",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n      搜索\n    ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n      刷新\n    ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.insert}},[t._v("\n      新增\n    ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.carList.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.index)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"货物名",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.merchandiseName)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"货物类型",width:"180\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.merchandiseType)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"货物数量（单位:个）",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.repositoryCount))])]}}])}),a("el-table-column",{attrs:{label:"货物重量(单位:千克)",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.merchandiseHeight)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"货物尺寸",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.merchandiseSize)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"供货商",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.merchandiseSupplier)+"\n      ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n            修改\n          ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n            删除\n          ")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"货物名"}},[a("el-input",{attrs:{placeholder:"请输入货物名"},model:{value:t.temp.merchandiseName,callback:function(e){t.$set(t.temp,"merchandiseName",e)},expression:"temp.merchandiseName"}})],1),a("el-form-item",{attrs:{label:"货物类型"}},[a("el-input",{attrs:{placeholder:"请输入货物类型"},model:{value:t.temp.merchandiseType,callback:function(e){t.$set(t.temp,"merchandiseType",e)},expression:"temp.merchandiseType"}})],1),a("el-form-item",{attrs:{label:"货物数量（单位:个）"}},[a("el-input",{attrs:{placeholder:"请输入货物数量（单位:个）"},model:{value:t.temp.repositoryCount,callback:function(e){t.$set(t.temp,"repositoryCount",e)},expression:"temp.repositoryCount"}})],1),a("el-form-item",{attrs:{label:"货物重量(单位:千克)"}},[a("el-input",{attrs:{placeholder:"请输入货物重量(单位:千克)"},model:{value:t.temp.merchandiseHeight,callback:function(e){t.$set(t.temp,"merchandiseHeight",e)},expression:"temp.merchandiseHeight"}})],1),a("el-form-item",{attrs:{label:"货物尺寸（单位:米）"}},[a("el-input",{attrs:{placeholder:"请输入货物尺寸（单位:米）"},model:{value:t.temp.merchandiseSize,callback:function(e){t.$set(t.temp,"merchandiseSize",e)},expression:"temp.merchandiseSize"}})],1),a("el-form-item",{attrs:{label:"供货商"}},[a("el-input",{attrs:{placeholder:"请输入供货商"},model:{value:t.temp.merchandiseSupplier,callback:function(e){t.$set(t.temp,"merchandiseSupplier",e)},expression:"temp.merchandiseSupplier"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n      取消\n    ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n      确定\n    ")])],1)],1)},Ne=[];function Ie(t){return x({url:"/merchandiseinfo/queryByCondition",method:"post",data:t})}function Ve(t){return x({url:"/merchandiseinfo/add",method:"post",data:t})}function Ee(t){return x({url:"/merchandiseinfo/update",method:"post",data:t})}function Oe(t){return x({url:"/merchandiseinfo/deleteById",method:"post",data:t})}var Qe={merchandiseId:"",buildId:"",purchasesaleId:"",merchandiseName:"",merchandiseType:"",repositoryCount:"",merchandiseHeight:"",merchandiseSize:"",merchandiseSupplier:"",merchandiseCount:""},Me={data:function(){return{listLoading:!0,inputData:"",carList:[],temp:Object.assign({},Qe),dialogVisible:!1,dialogType:"create",cur_page:1,pageSize:10,total:0}},methods:{initCarList:function(){var t=this;this.listLoading=!0,Ie({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.carList=e.datas,t.inputData="",t.total=t.carList.length,t.listLoading=!1)})},search:function(){var t=this,e={merchandiseName:this.inputData};this.listLoading=!0,Ie(e).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.total=e.datas.length,t.cur_page=1,t.carList=e.datas,t.listLoading=!1)})},refresh:function(){this.listQuery.page=1,this.initCarList()},resetTemp:function(){this.temp=Object.assign({},Qe)},insert:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Oe({id:t.row.merchandiseId}).then(function(){e.initCarList(),setTimeout(function(){e.list.splice(t.$index,1),e.$message({message:"删除成功",type:"success"})},300)})})},submit:function(){var t=this;if(!this.listLoading){var e=this.temp;"modify"==this.dialogType?Ee(e).then(function(e){-1!=e&&(t.$message({message:"修改成功",type:"success"}),t.dialogVisible=!1,t.initCarList())}):Ve(e).then(function(e){-1!=e&&(t.$message({message:"添加成功",type:"success"}),t.dialogVisible=!1,t.initCarList())})}},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.initCarList()})}},Be=Me,De=(a("76d2"),Object(r["a"])(Be,je,Ne,!1,null,null,null)),Pe=De.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入证件编号",clearable:""},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n          搜索\n        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n          刷新\n        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n          新增\n        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.materiallist.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.index)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"证件编号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.certificateCode)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"人员姓名",width:"150\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.employeeName)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"证件名",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.certificateName))])]}}])}),a("el-table-column",{attrs:{label:"签发日期",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.certificateStartTime)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"失效日期",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.certificateEndTime)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"签发单位",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t  \t\t\t  "+t._s(e.row.certificateAgent)+"\n\t  \t\t\t")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t  修改\n\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t  删除\n\t\t\t")])],1)]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",staticClass:"demo-ruleForm",attrs:{rules:t.rules,model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"==t.dialogType,expression:"dialogType=='create'"}],attrs:{label:"人员编号",prop:"employeeId"}},[a("el-input",{attrs:{placeholder:"请输入人员编号"},model:{value:t.temp.employeeId,callback:function(e){t.$set(t.temp,"employeeId",e)},expression:"temp.employeeId"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.dialogType,expression:"dialogType=='modify'"}],attrs:{label:"人员编号"}},[a("div",[t._v(" "+t._s(t.temp.employeeId))])]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.dialogType,expression:"dialogType=='modify'"}],attrs:{label:"人员姓名"}},[a("div",[t._v(" "+t._s(t.temp.employeeName))])]),a("el-form-item",{attrs:{label:"证件编号",prop:"certificateCode"}},[a("el-input",{attrs:{placeholder:"请输入证件编号"},model:{value:t.temp.certificateCode,callback:function(e){t.$set(t.temp,"certificateCode",e)},expression:"temp.certificateCode"}})],1),a("el-form-item",{attrs:{label:"证件名",prop:"certificateName"}},[a("el-input",{attrs:{placeholder:"请输入证件名"},model:{value:t.temp.certificateName,callback:function(e){t.$set(t.temp,"certificateName",e)},expression:"temp.certificateName"}})],1),a("el-form-item",{attrs:{label:"签发日期"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.temp.certificateStartTime,callback:function(e){t.$set(t.temp,"certificateStartTime",e)},expression:"temp.certificateStartTime"}})],1)]),a("el-form-item",{attrs:{label:"失效日期"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.temp.certificateEndTime,callback:function(e){t.$set(t.temp,"certificateEndTime",e)},expression:"temp.certificateEndTime"}})],1)]),a("el-form-item",{attrs:{label:"签发单位"}},[[a("el-select",{attrs:{placeholder:"请选择签发单位"},model:{value:t.temp.certificateAgent,callback:function(e){t.$set(t.temp,"certificateAgent",e)},expression:"temp.certificateAgent"}},t._l(t.options,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)]],2)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t  取消\n\t")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n\t  确定\n\t")])],1)],1)},Ae=[];a("7cdf");function qe(){return x({url:"/certificateinfo/selectAll",method:"get"})}function Ue(t){return x({url:"/certificateinfo/selectOne",method:"post",data:t})}function Re(t){return x({url:"/certificateinfo/edit",method:"post",data:t})}function He(t){return x({url:"/certificateinfo/add",method:"post",data:t})}function Ge(t){return x({url:"/certificateinfo/deleteById",method:"post",data:t})}var Je={certificateAgent:"",certificateEndTime:"",certificateStartTime:"",certificateName:"",certificateCode:"",employeeId:"",employeeName:""},We={data:function(){return{rules:{certificateCode:[{required:!0,message:"请输入证件编号(仅数字)",trigger:"blur"}],employeeId:[{required:!0,message:"请输入人员编号(仅数字)",trigger:"blur"}],certificateName:[{required:!0,message:"请输入证件名",trigger:"blur"}]},total:1,options:["交通部","民政局","法院","重庆大学","财务部","技术部"],listLoading:!0,cur_page:1,pageSize:10,materiallist:[],listQuery:{page:1,limit:20,created_at:void 0,status:void 0,keyword:void 0},temp:Object.assign({},Je),dialogVisible:!1,dialogType:"create",searchName:""}},methods:{handleCurrentChange:function(t){this.cur_page=t},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},initMateriallist:function(){var t=this;this.listLoading=!0,qe().then(function(e){-1!=e&&(console.log("这是res\n"),console.log(e),e.datas.forEach(function(t,e){t.index=e+1}),t.materiallist=e.datas,t.total=e.datas.length,t.listLoading=!1)})},search:function(){var t=this;this.listLoading=!0;var e={certificateCode:this.searchName};Ue(e).then(function(e){t.materiallist=e.datas,t.total=e.datas.length,t.listLoading=!1,e.datas.forEach(function(t,e){t.index=e+1}),console.log(e),console.log(t.searchName)})},refresh:function(){this.initMateriallist()},resetTemp:function(){this.temp=Object.assign({},Je)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){var a={certificateId:t.row.certificateId};Ge(a).then(function(t){console.log(t),console.log(a.materialId),200==t.code?e.$message({message:"删除成功",type:"success"}):e.$message({message:"删除失败",type:"error"})}),setTimeout(function(){e.initMateriallist()},500)})})},submit:function(){var t=this;this.listLoading||(this.listLoading=!0,setTimeout(function(){var e=t.temp;Number.isInteger(e.certificateCode-"0")&&Number.isInteger(e.employeeId-"0")?e.certificateCode<1||e.employeeId<1?t.$message({message:"编号不能小于1",type:"error"}):("modify"==t.dialogType?Re(e).then(function(e){console.log(e),200==e.code?(t.$message({message:"提交成功",type:"success"}),t.dialogVisible=!1):t.$message({message:"提交失败",type:"error"})}):"create"==t.dialogType&&He(e).then(function(e){console.log(e),200==e.code?(t.$message({message:"新增成功",type:"success"}),t.dialogVisible=!1):t.$message({message:"新增失败",type:"error"})}),t.listLoading=!1):t.$message({message:"请正确输入数字",type:"error"})}),setTimeout(function(){t.initMateriallist()},300),console.log("shengxiao "))}},mounted:function(){var t=this;this.$nextTick(function(){t.initMateriallist()})}},Ye=We,Xe=(a("f5a8"),Object(r["a"])(Ye,Fe,Ae,!1,null,null,null)),Ke=Xe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入物资名称",clearable:""},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n\t          搜索\n\t        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n\t          刷新\n\t        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n\t          新增\n\t        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.materiallist,"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.index)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"名称",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.materialName))])]}}])}),a("el-table-column",{attrs:{label:"价格(单位:元)",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.materialPrice)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"用途",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t  "+t._s(e.row.materialUsage)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"物资类型",width:"150\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  \t\t\t  "+t._s(e.row.materialtypeType)+"\n\t\t  \t\t\t")]}}])}),a("el-table-column",{attrs:{label:"数量",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  \t\t\t  "+t._s(e.row.materialCount)+"\n\t\t  \t\t\t")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t\t  修改\n\t\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t\t  删除\n\t\t\t\t")])],1)]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,50,100],"page-size":200,layout:"total, sizes, prev, pager, next, jumper",total:t.listQuery.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"temp",staticClass:"demo-ruleForm",attrs:{model:t.temp,rules:t.rules,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"物资类型",prop:"materialtypeId"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.temp.materialtypeId,callback:function(e){t.$set(t.temp,"materialtypeId",e)},expression:"temp.materialtypeId"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.materialtypeType,value:t.materialtypeId}})}),1)],1),a("el-form-item",{attrs:{label:"名称",prop:"materialName"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.temp.materialName,callback:function(e){t.$set(t.temp,"materialName",e)},expression:"temp.materialName"}})],1),a("el-form-item",{attrs:{label:"价格(单位:元)",prop:"materialPrice"}},[a("el-input",{attrs:{placeholder:"请输入价格(单位:元)",type:"number",min:0},model:{value:t.temp.materialPrice,callback:function(e){t.$set(t.temp,"materialPrice",e)},expression:"temp.materialPrice"}})],1),a("el-form-item",{attrs:{label:"用途",prop:"materialUsage"}},[a("el-input",{attrs:{placeholder:"请输入用途"},model:{value:t.temp.materialUsage,callback:function(e){t.$set(t.temp,"materialUsage",e)},expression:"temp.materialUsage"}})],1),a("el-form-item",{attrs:{label:"数量",prop:"materialCount"}},[a("el-input",{attrs:{placeholder:"请输入数量"},model:{value:t.temp.materialCount,callback:function(e){t.$set(t.temp,"materialCount",e)},expression:"temp.materialCount"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t  取消\n\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("temp")}}},[t._v("\n\t\t  确定\n\t\t")])],1)],1)},ta=[];function ea(t){return x({url:"/matetialinfo/selectByName",method:"post",data:t})}function aa(t){return x({url:"/matetialinfo/edit",method:"post",data:t})}function ia(t){return x({url:"/matetialinfo/add",method:"post",data:t})}function na(t){return x({url:"/matetialinfo/deleteById",method:"post",data:t})}function la(){return x({url:"/matetialinfo/selectType",method:"post"})}var sa={materialId:"",materialtypeId:"",materialName:"",materialPrice:"",materialUsage:"",materialCount:"",materialtypeType:""},oa={data:function(){return{listLoading:!0,options:[],materiallist:[],listQuery:{page:1,limit:10,total:0},temp:Object.assign({},sa),dialogVisible:!1,dialogType:"create",searchName:"",rules:{materialtypeId:[{required:!0,message:"请选择类型",trigger:"change"}],materialName:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],materialPrice:[{required:!0,message:"请输入价格",trigger:"blur"}],materialUsage:[{required:!0,message:"请输入用途",trigger:"blur"}],materialCount:[{required:!0,message:"请输入数量",trigger:"blur"}]}}},methods:{handleSizeChange:function(t){this.listQuery.limit=t,console.log(t),this.initMateriallist()},handleCurrentChange:function(t){this.listQuery.page=t,console.log(t),this.initMateriallist()},initMateriallist:function(){var t=this;this.listLoading=!0;var e={page:this.listQuery.page,limit:this.listQuery.limit,materialName:this.searchName};ea(e).then(function(e){-1!=e&&(console.log("这是res\n"),console.log(e),e.datas.forEach(function(e,a){e.index=(t.listQuery.page-1)*t.listQuery.limit+a+1}),t.materiallist=e.datas,t.listQuery.total=e.total,t.listLoading=!1)})},search:function(){var t=this;this.listLoading=!0;var e={materialName:this.searchName,page:this.listQuery.page,limit:this.listQuery.limit};ea(e).then(function(e){t.listLoading=!1,t.listLoading=!1,e.datas.forEach(function(e,a){e.index=(t.listQuery.page-1)*t.listQuery.limit+a+1}),t.materiallist=e.datas,t.listQuery.total=e.total,console.log(e),console.log(t.searchName)})},refresh:function(){this.initMateriallist()},resetTemp:function(){this.temp=Object.assign({},sa)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["temp"].clearValidate()}),la().then(function(e){-1!=e&&(console.log(e),t.options=e.datas,t.listLoading=!1)})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["temp"].clearValidate()}),la().then(function(t){-1!=t&&(console.log(t),e.options=t.datas,e.listLoading=!1)})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){var a={materialId:t.row.materialId};na(a).then(function(t){console.log(t),console.log(a.materialId),200==t.code?e.$message({message:"删除成功",type:"success"}):e.$message({message:"删除失败",type:"success"})}),setTimeout(function(){e.initMateriallist()},300)})})},submit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.submit1()})},submit1:function(){var t=this;this.listLoading||(this.listLoading=!0,setTimeout(function(){var e=t.temp;"modify"==t.dialogType?aa(e).then(function(e){console.log(e),200==e.code?t.$message({message:"提交成功",type:"success"}):t.$message({message:"提交失败",type:"success"})}):"create"==t.dialogType&&ia(e).then(function(e){console.log(e),200==e.code?t.$message({message:"新增成功",type:"success"}):t.$message({message:"新增失败",type:"success"})}),t.dialogVisible=!1,t.listLoading=!1}),setTimeout(function(){t.initMateriallist()},300),console.log("shengxiao "))}},mounted:function(){var t=this;this.$nextTick(function(){t.initMateriallist()})}},ra=oa,ca=(a("1a71"),Object(r["a"])(ra,Ze,ta,!1,null,null,null)),ua=ca.exports,da=a("8f6a"),ma=a("5a1c"),pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{staticStyle:{"margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{placeholder:"请选择类型",size:"small"},on:{change:function(e){return t.search()}},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:function(e){return t.refresh()}}},[t._v("\n\t\t\t刷新\n\t\t")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.add()}}},[t._v("\n\t\t\t买入\n\t\t")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.sale()}}},[t._v("\n\t\t\t卖出\n\t\t")])],1),a("el-tag",{attrs:{type:"success"}},[t._v("tips:买卖类型（1：买入；0：卖出）")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.carChangeList.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.index)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车辆编号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.carId)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车辆类型",width:"180\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.carChangeType)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"买卖类型",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1===parseInt(e.row.operation)?"买入":"卖出"))])]}}])}),a("el-table-column",{attrs:{label:"交易单号",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.carChangeId))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t\t\t\t删除\n\t\t\t\t\t")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"买入"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"车牌号"}},[a("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:t.temp.carNumber,callback:function(e){t.$set(t.temp,"carNumber",e)},expression:"temp.carNumber"}})],1),a("el-form-item",{attrs:{label:"车型"}},[a("el-input",{attrs:{placeholder:"请输入车型"},model:{value:t.temp.carStyle,callback:function(e){t.$set(t.temp,"carStyle",e)},expression:"temp.carStyle"}})],1),a("el-form-item",{attrs:{label:"车辆载重(单位:吨)"}},[a("el-input",{attrs:{placeholder:"请输入车辆载重(单位:吨)"},model:{value:t.temp.carLoad,callback:function(e){t.$set(t.temp,"carLoad",e)},expression:"temp.carLoad"}})],1),a("el-form-item",{attrs:{label:"车辆里程数(单位:千米)"}},[a("el-input",{attrs:{placeholder:"请输入车辆里程数(单位:千米)"},model:{value:t.temp.carMileage,callback:function(e){t.$set(t.temp,"carMileage",e)},expression:"temp.carMileage"}})],1),a("el-form-item",{attrs:{label:"车辆品牌"}},[a("el-input",{attrs:{placeholder:"请输入车辆品牌"},model:{value:t.temp.carBrand,callback:function(e){t.$set(t.temp,"carBrand",e)},expression:"temp.carBrand"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t\t取消\n\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("\n\t\t\t确定\n\t\t")])],1),a("el-dialog",{attrs:{visible:t.saleDialogVisible,title:"卖出"},on:{"update:visible":function(e){t.saleDialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"交易单号"}},[a("el-input",{attrs:{placeholder:"自动生成单号",disabled:!0},model:{value:t.temp.carChangeId,callback:function(e){t.$set(t.temp,"carChangeId",e)},expression:"temp.carChangeId"}})],1),a("el-form-item",{attrs:{label:"交易车辆"}},[a("el-input",{attrs:{placeholder:"请输入车辆编号"},model:{value:t.temp.carId,callback:function(e){t.$set(t.temp,"carId",e)},expression:"temp.carId"}})],1),a("el-form-item",{attrs:{label:"车辆类型"}},[a("el-input",{attrs:{placeholder:"请输入车辆类型"},model:{value:t.temp.carChangeType,callback:function(e){t.$set(t.temp,"carChangeType",e)},expression:"temp.carChangeType"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t\t取消\n\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("\n\t\t\t确定\n\t\t")])],1)],1)},fa=[];function ha(t){return x({url:"/carchange/getByOperation",method:"post",data:t})}function ga(t){return x({url:"/carchange/insertCarChange",method:"post",data:t})}function ba(t){return x({url:"/carchange/deleteCarChange",method:"post",data:t})}function ya(t){return x({url:"/carchange/saleCar",method:"post",data:t})}var va={carChangeId:"",carId:"",carChangeType:"",operation:"",carNumber:"",carStyle:"",carLoad:"",carMileage:"",carBrand:""},xa={data:function(){return{saleDialogVisible:!1,selectValue:"",options:[{value:"1",label:"买"},{value:"0",label:"卖"}],listLoading:!0,inputData:"",carChangeList:[],temp:Object.assign({},va),dialogVisible:!1,dialogType:"",cur_page:1,pageSize:10,total:0}},methods:{init:function(){var t=this;this.listLoading=!0,ha({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.carChangeList=e.datas,t.total=t.carChangeList.length,t.listLoading=!1)})},refresh:function(){this.selectValue="",this.init()},resetTemp:function(){this.temp=Object.assign({},va)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="buy",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},sale:function(){var t=this;this.resetTemp(),this.saleDialogVisible=!0,this.dialogType="sale",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.temp=pt(t.row);var a=e.temp;ba(a).then(function(t){-1!=t&&(e.$message({message:"删除成功",type:"success"}),e.init())})})},submit:function(){var t=this;if(!this.listLoading){var e=this.temp;"sale"==this.dialogType?(e.operation=0,ya(e).then(function(e){-1!=e&&(t.$message({message:"提交成功",type:"success"}),t.selectValue="",t.init()),t.saleDialogVisible=!1})):ga(e).then(function(e){-1!=e&&(t.$message({message:"提交成功",type:"success"}),t.selectValue="",t.init()),t.dialogVisible=!1})}},search:function(){var t=this,e={operation:this.selectValue};this.listLoading=!0,ha(e).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.carChangeList=e.datas,t.total=t.carChangeList.length,t.cur_page=1,t.listLoading=!1)})},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})}},_a=xa,wa=(a("6968"),Object(r["a"])(_a,pa,fa,!1,null,null,null)),ka=wa.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入货物名称",clearable:""},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n          搜索\n        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n          刷新\n        ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n          新增\n        ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.materiallist.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.index)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"货物名",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t  "+t._s(e.row.merchandiseName)+"\n\t\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"购销类型",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.purchasesaleType)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"购销价格",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t  "+t._s(e.row.purchasesalePrice)+"\n\t\t")]}}])}),a("el-table-column",{attrs:{label:"购销数量",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.purchasesaleCount))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t  修改\n\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t  删除\n\t\t\t")])],1)]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",staticClass:"demo-ruleForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right",rules:t.rules}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.dialogType,expression:"dialogType=='modify'"}],attrs:{label:"购销货物"}},[a("div",[t._v(t._s(t.temp.merchandiseName))])]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.dialogType,expression:"dialogType=='modify'"}],attrs:{label:"货物编号"}},[a("div",[t._v(t._s(t.temp.merchandiseId))])]),a("el-form-item",{attrs:{label:"购销类型",prop:"purchasesaleType"}},[[a("el-radio",{attrs:{label:"购入"},model:{value:t.temp.purchasesaleType,callback:function(e){t.$set(t.temp,"purchasesaleType",e)},expression:"temp.purchasesaleType"}},[t._v("购入")]),a("el-radio",{attrs:{label:"售出"},model:{value:t.temp.purchasesaleType,callback:function(e){t.$set(t.temp,"purchasesaleType",e)},expression:"temp.purchasesaleType"}},[t._v("售出")])]],2),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"==t.dialogType,expression:"dialogType=='create'"}],attrs:{label:"购销货物",prop:"merchandiseName"}},[a("el-input",{attrs:{placeholder:"请输入货物名称"},model:{value:t.temp.merchandiseName,callback:function(e){t.$set(t.temp,"merchandiseName",e)},expression:"temp.merchandiseName"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"==t.dialogType,expression:"dialogType=='create'"}],attrs:{label:"货物编号",prop:"merchandiseId"}},[a("el-input",{attrs:{placeholder:"请输入货物编号"},model:{value:t.temp.merchandiseId,callback:function(e){t.$set(t.temp,"merchandiseId",e)},expression:"temp.merchandiseId"}})],1),a("el-form-item",{attrs:{label:"购销价格(单位:元)",prop:"purchasesalePrice"}},[a("el-input",{attrs:{placeholder:"请输入购销价格"},model:{value:t.temp.purchasesalePrice,callback:function(e){t.$set(t.temp,"purchasesalePrice",e)},expression:"temp.purchasesalePrice"}})],1),a("el-form-item",{attrs:{label:"购销数量",prop:"purchasesaleCount"}},[a("el-input",{attrs:{placeholder:"请输入购销数量"},model:{value:t.temp.purchasesaleCount,callback:function(e){t.$set(t.temp,"purchasesaleCount",e)},expression:"temp.purchasesaleCount"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t  取消\n\t")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n\t  确定\n\t")])],1)],1)},Sa=[];function Ca(){return x({url:"/purchasesale/selectAll",method:"get"})}function $a(t){return x({url:"/purchasesale/selectOne",method:"post",data:t})}function La(t){return x({url:"/purchasesale/edit",method:"post",data:t})}function za(t){return x({url:"/purchasesale/add",method:"post",data:t})}function ja(t){return x({url:"/purchasesale/deleteById",method:"post",data:t})}var Na={merchandiseName:"",merchandiseId:"",purchasesaleCount:"",purchasesalePrice:"",purchasesaleType:""},Ia={data:function(){return{total:0,rules:{purchasesaleType:[{required:!0,message:"请选择购销类型",trigger:"change"}],merchandiseName:[{required:!0,message:"请输入货物名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],merchandiseId:[{required:!0,message:"请输入货物编号(仅数字)",trigger:"blur"}],purchasesalePrice:[{required:!0,message:"请输入购销价格(仅数字)",trigger:"blur"}],purchasesaleCount:[{required:!0,message:"请输入购销数量(仅数字)",trigger:"blur"}]},cur_page:1,pageSize:10,listLoading:!0,materiallist:[],listQuery:{page:1,limit:20,created_at:void 0,status:void 0,keyword:void 0},temp:Object.assign({},Na),dialogVisible:!1,dialogType:"create",searchName:""}},methods:{handleCurrentChange:function(t){this.cur_page=t},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},initMateriallist:function(){var t=this;this.listLoading=!0,Ca().then(function(e){-1!=e&&(console.log("这是res\n"),console.log(e),e.datas.forEach(function(t,e){t.index=e+1}),t.materiallist=e.datas,t.total=e.datas.length,t.listLoading=!1)})},search:function(){var t=this;this.listLoading=!0;var e={merchandiseName:this.searchName};$a(e).then(function(e){t.materiallist=e.datas,t.total=e.datas.length,t.listLoading=!1,e.datas.forEach(function(t,e){t.index=e+1}),console.log(e),console.log(t.searchName)})},refresh:function(){this.initMateriallist()},resetTemp:function(){this.temp=Object.assign({},Na)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){var a={purchasesaleId:t.row.purchasesaleId};ja(a).then(function(t){console.log(t),console.log(a.materialId),200==t.code?e.$message({message:"删除成功",type:"success"}):e.$message({message:"删除失败",type:"error"})}),setTimeout(function(){e.initMateriallist()},500)})})},submit:function(){var t=this;this.listLoading||(this.listLoading=!0,setTimeout(function(){var e=t.temp;Number.isInteger(e.merchandiseId-"0")&&Number.isInteger(e.purchasesalePrice-"0")&&Number.isInteger(e.purchasesaleCount-"0")?e.materialId<1||e.purchasesalePrice<1||e.purchasesaleCount<1?t.$message({message:"数字不能小于1",type:"error"}):("modify"==t.dialogType?La(e).then(function(e){console.log(e),200==e.code?(t.$message({message:"提交成功",type:"success"}),t.dialogVisible=!1):t.$message({message:"提交失败",type:"error"})}):"create"==t.dialogType&&za(e).then(function(e){console.log(e),200==e.code?(t.$message({message:"新增成功",type:"success"}),t.dialogVisible=!1):t.$message({message:"新增失败",type:"error"})}),t.listLoading=!1):t.$message({message:"请正确输入数字",type:"error"})}),setTimeout(function(){t.initMateriallist()},300),console.log("shengxiao "))}},mounted:function(){var t=this;this.$nextTick(function(){t.initMateriallist()})}},Va=Ia,Ea=(a("ccaf"),Object(r["a"])(Va,Ta,Sa,!1,null,null,null)),Oa=Ea.exports,Qa=a("ed39"),Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入修理工姓名",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n\t\t\t搜索\n\t\t")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:function(e){return t.refresh()}}},[t._v("\n\t\t\t刷新\n\t\t")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.add()}}},[t._v("\n\t\t\t新增\n\t\t")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.fixList.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.index)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"车辆编号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.carId)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"开始时间",width:"180\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.fixStarttime)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"结束时间",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.fixEndtime))])]}}])}),a("el-table-column",{attrs:{label:"维修工姓名",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.fixName)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"维修开销",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.fixMoney)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{label:"维修记录单号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(e.row.fixId)+"\n\t\t\t")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n\t\t\t\t\t\t修改\n\t\t\t\t\t")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n\t\t\t\t\t\t删除\n\t\t\t\t\t")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"车辆编号"}},[a("el-input",{attrs:{placeholder:"请输入车辆编号"},model:{value:t.temp.carId,callback:function(e){t.$set(t.temp,"carId",e)},expression:"temp.carId"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.temp.fixStarttime,callback:function(e){t.$set(t.temp,"fixStarttime",e)},expression:"temp.fixStarttime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.temp.fixEndtime,callback:function(e){t.$set(t.temp,"fixEndtime",e)},expression:"temp.fixEndtime"}})],1),a("el-form-item",{attrs:{label:"维修工姓名"}},[a("el-input",{attrs:{placeholder:"请输入维修工姓名"},model:{value:t.temp.fixName,callback:function(e){t.$set(t.temp,"fixName",e)},expression:"temp.fixName"}})],1),a("el-form-item",{attrs:{label:"维修开销"}},[a("el-input",{attrs:{placeholder:"请输入本次维修开销"},model:{value:t.temp.fixMoney,callback:function(e){t.$set(t.temp,"fixMoney",e)},expression:"temp.fixMoney"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n\t\t\t取消\n\t\t")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("\n\t\t\t确定\n\t\t")])],1)],1)},Ba=[];function Da(t){return x({url:"/fixinfo/getByRepairmanName",method:"post",data:t})}function Pa(t){return x({url:"/fixinfo/updateFixLog",method:"post",data:t})}function Fa(t){return x({url:"/fixinfo/insertFixLog",method:"post",data:t})}function Aa(t){return x({url:"/fixinfo/deleteFixLog",method:"post",data:t})}var qa={fixId:"",fixName:"",fixStarttime:"",fixEndtime:"",fixMoney:"",carId:""},Ua={data:function(){return{listLoading:!0,inputData:"",fixList:[],temp:Object.assign({},qa),dialogVisible:!1,dialogType:"create",cur_page:1,pageSize:10,total:0}},methods:{init:function(){var t=this;this.listLoading=!0,Da({}).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.fixList=e.datas,t.total=t.fixList.length,t.listLoading=!1)})},refresh:function(){this.inputData="",this.init()},resetTemp:function(){this.temp=Object.assign({},qa)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){e.$message({message:"删除成功",type:"success"})},300),e.temp=pt(t.row);var a=e.temp;a.fixStarttime=Date.parse(new Date(e.temp.fixStarttime)),a.fixEndtime=Date.parse(new Date(e.temp.fixEndtime)),Aa(a).then(function(t){-1!=t&&e.init()})})},submit:function(){var t=this;if(!this.listLoading){var e=this.temp;e.fixStarttime=Date.parse(new Date(this.temp.fixStarttime)),e.fixEndtime=Date.parse(new Date(this.temp.fixEndtime)),"modify"==this.dialogType?Pa(e).then(function(e){-1!=e&&(t.$message({message:"提交成功",type:"success"}),t.init()),t.dialogVisible=!1}):Fa(e).then(function(e){-1!=e&&(t.$message({message:"提交成功",type:"success"}),t.init()),t.dialogVisible=!1})}},search:function(){var t=this,e={fixName:this.inputData};this.listLoading=!0,Da(e).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.fixList=e.datas,t.total=t.fixList.length,t.cur_page=1,t.listLoading=!1)})},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})}},Ra=Ua,Ha=(a("69e4"),Object(r["a"])(Ra,Ma,Ba,!1,null,null,null)),Ga=Ha.exports,Ja=a("f6fd"),Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入车牌号",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n      搜索\n    ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n      刷新\n    ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n      新增\n    ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",staticStyle:{width:"100%"},attrs:{data:t.transportationList.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.index)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"车牌号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.carNumber)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"运输开始时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.transportationStartTime)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"运输结束时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.transportationEndTime))])]}}])}),a("el-table-column",{attrs:{label:"运输起点",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.transportationStartLocation))])]}}])}),a("el-table-column",{attrs:{label:"运输终点",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.transportationEndLocation))])]}}])}),a("el-table-column",{attrs:{label:"运输利润",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.transportationMoney))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n            修改\n          ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n            删除\n          ")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"车辆序号"}},[a("el-input",{attrs:{placeholder:"请输入车辆序号"},model:{value:t.temp.carId,callback:function(e){t.$set(t.temp,"carId",e)},expression:"temp.carId"}})],1),a("el-form-item",{attrs:{label:"运输开始时间"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择运输开始时间"},model:{value:t.temp.transportationStartTime,callback:function(e){t.$set(t.temp,"transportationStartTime",e)},expression:"temp.transportationStartTime"}})],1),a("el-form-item",{attrs:{label:"运输结束时间"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择运输结束时间"},model:{value:t.temp.transportationEndTime,callback:function(e){t.$set(t.temp,"transportationEndTime",e)},expression:"temp.transportationEndTime"}})],1),a("el-form-item",{attrs:{label:"运输起点"}},[a("el-input",{attrs:{placeholder:"请输入运输起点"},model:{value:t.temp.transportationStartLocation,callback:function(e){t.$set(t.temp,"transportationStartLocation",e)},expression:"temp.transportationStartLocation"}})],1),a("el-form-item",{attrs:{label:"运输终点"}},[a("el-input",{attrs:{placeholder:"请输入运输终点"},model:{value:t.temp.transportationEndLocation,callback:function(e){t.$set(t.temp,"transportationEndLocation",e)},expression:"temp.transportationEndLocation"}})],1),a("el-form-item",{attrs:{label:"运输利润"}},[a("el-input",{attrs:{placeholder:"请输入运输利润"},model:{value:t.temp.transportationMoney,callback:function(e){t.$set(t.temp,"transportationMoney",e)},expression:"temp.transportationMoney"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n      取消\n    ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n      确定\n    ")])],1)],1)},Ya=[];function Xa(t){return x({url:"/transportationinfo/queryByCondition",method:"post",data:t})}function Ka(t){return x({url:"/transportationinfo/add",method:"post",data:t})}function Za(t){return x({url:"/transportationinfo/update",method:"post",data:t})}function ti(t){return x({url:"/transportationinfo/deleteById",method:"post",data:t})}var ei={carId:"",carNumber:"",transportationStartTime:"",transportationEndTime:"",transportationStartLocation:"",transportationEndLocation:"",transportationMoney:""},ai={data:function(){return{listLoading:!0,inputData:"",transportationList:[],temp:Object.assign({},ei),dialogVisible:!1,dialogType:"create",cur_page:1,pageSize:10,total:0}},methods:{initTransportationList:function(){var t=this;this.listLoading=!0,Xa({}).then(function(e){console.log(e),-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.transportationList=e.datas,t.total=t.transportationList.length,t.listLoading=!1)})},search:function(){var t=this,e={carNumber:this.inputData};this.listLoading=!0,Xa(e).then(function(e){-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.transportationList=e.datas,t.total=t.transportationList.length,t.cur_page=1,t.listLoading=!1)})},refresh:function(){this.initTransportationList()},resetTemp:function(){this.temp=Object.assign({},ei)},add:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ti({id:t.row.transportationId}).then(function(){e.initTransportationList(),setTimeout(function(){e.$message({message:"删除成功",type:"success"})},300)})})},submit:function(){var t=this;if(!this.listLoading){var e=this.temp;"modify"==this.dialogType?Za(e).then(function(e){-1!=e&&(t.$message({message:"修改成功",type:"success"}),t.dialogVisible=!1,t.initTransportationList())}):Ka(e).then(function(e){-1!=e&&(t.$message({message:"添加成功",type:"success"}),t.dialogVisible=!1,t.initTransportationList())})}},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.initTransportationList()})}},ii=ai,ni=(a("517b"),Object(r["a"])(ii,Wa,Ya,!1,null,null,null)),li=ni.exports,si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("不写")])},oi=[],ri={name:"carrierBusiness"},ci=ri,ui=Object(r["a"])(ci,si,oi,!1,null,"8dda20d2",null),di=ui.exports,mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入广告内容",clearable:""},model:{value:t.listQuery.adContent,callback:function(e){t.$set(t.listQuery,"adContent",e)},expression:"listQuery.adContent"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{loading:t.searchloading,size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n        搜索\n      ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n        刷新\n      ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.insert}},[t._v("\n        新增\n      ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.adList,"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.index)+"\n        ")]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"广告内容",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.adContent)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"广告金额(元)",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.adMoney))])]}}])}),a("el-table-column",{attrs:{label:"广告商",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.adAdviser))])]}}])}),a("el-table-column",{attrs:{label:"开始时间",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.adStart))])]}}])}),a("el-table-column",{attrs:{label:"结束时间",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.adEnd))])]}}])}),a("el-table-column",{attrs:{label:"广告图片",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.adImages,"preview-src-list":[t.row.adImages]}})]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n              修改\n            ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n              删除\n            ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.listQuery.total>0,expression:"listQuery.total > 0"}],attrs:{total:t.listQuery.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.initAdList}}),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"广告内容"}},[a("el-input",{attrs:{placeholder:"请输入广告内容"},model:{value:t.temp.adContent,callback:function(e){t.$set(t.temp,"adContent",e)},expression:"temp.adContent"}})],1),a("el-form-item",{attrs:{label:"广告金额"}},[a("el-input",{attrs:{placeholder:"请输入广告金额"},model:{value:t.temp.adMoney,callback:function(e){t.$set(t.temp,"adMoney",e)},expression:"temp.adMoney"}})],1),a("el-form-item",{attrs:{label:"赞助商"}},[a("el-input",{attrs:{placeholder:"请输入赞助商"},model:{value:t.temp.adAdviser,callback:function(e){t.$set(t.temp,"adAdviser",e)},expression:"temp.adAdviser"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-input",{attrs:{placeholder:"请输入开始时间"},model:{value:t.temp.adStart,callback:function(e){t.$set(t.temp,"adStart",e)},expression:"temp.adStart"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-input",{attrs:{placeholder:"请输入结束时间"},model:{value:t.temp.adEnd,callback:function(e){t.$set(t.temp,"adEnd",e)},expression:"temp.adEnd"}})],1),a("el-form-item",{attrs:{label:"广告图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,accept:".jpg, .jpeg,.png"}},[t.temp.adImages?a("img",{staticClass:"avatar",attrs:{src:t.temp.adImages}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n        取消\n      ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n        确定\n      ")])],1)],1)},pi=[];function fi(t){return x({url:"/ad/queryAll",method:"post",data:t})}function hi(t){return x({url:"/ad/add",method:"post",data:t})}function gi(t){return x({url:"/ad/update",method:"post",data:t})}function bi(t){return x({url:"/ad/deleteById",method:"post",data:t})}var yi={adContent:"",adMoney:"",adAdviser:"",adStart:"",adEnd:"",adImages:""},vi={components:{Pagination:pe},data:function(){return{searchloading:!1,listLoading:!0,adList:[],uploadUrl:"http://localhost:8080/fileupload/add",listQuery:{limit:10,page:1,total:0,adContent:""},fileList:[],temp:Object.assign({},yi),dialogVisible:!1,dialogType:"create"}},methods:{handleAvatarSuccess:function(t,e){this.fileList.push(t),console.log("fiLIST:SSS  "+this.fileList),console.log(t),this.temp.adImages=t,console.log("文件上传成功"),console.log("res:=>>>"+t),console.log(e.raw),this.temp.site_logo=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){if(!this.uploadUrl)return this.$message.error("请设置正确的图片上传地址!"),!1;var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("只能上传JPG或者PNG图片格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),e&&a},initAdList:function(){var t=this;this.listLoading=!0;var e={adContent:this.listQuery.adContent};fi(e).then(function(e){-1!=e&&(0===e.datas.length&&(t.listLoading=!1,Object(g["Message"])({message:"查询结果为空",type:"error"})),e.datas.forEach(function(t,e){t.index=e+1}),t.adList=e.datas.slice((t.listQuery.page-1)*t.listQuery.limit,t.listQuery.page*t.listQuery.limit),t.listQuery.total=e.total,setTimeout(function(){t.listLoading=!1},100))})},search:function(){var t=this;this.searchloading=!0,this.initAdList(),setTimeout(function(){t.searchloading=!1},200)},refresh:function(){this.listQuery.page=1,this.initAdList()},resetTemp:function(){this.temp=Object.assign({},yi)},insert:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){bi({id:t.row.adId}).then(function(){e.initAdList(),setTimeout(function(){e.list.splice(t.$index,1),e.$message({message:"删除成功",type:"success"})},100)})})},submit:function(){var t=this;if(!this.listLoading){if(this.listLoading=!0,"create"===this.dialogType){var e={adContent:this.temp.adContent,adMoney:this.temp.adMoney,adAdviser:this.temp.adAdviser,adStart:this.temp.adStart,adEnd:this.temp.adEnd,adImages:this.temp.adImages};console.log("新增"),console.log(e),console.log("data: "+e),hi(e)}else if("modify"===this.dialogType){console.log("修改"),console.log(this.temp);this.temp.adContent,this.temp.adMoney,this.temp.adAdviser,this.temp.adStart,this.temp.adEnd,this.temp.adImages;gi(this.temp)}setTimeout(function(){t.$message({message:"成功",type:"success"}),t.dialogVisible=!1,t.listLoading=!1,t.initAdList()},100)}}},mounted:function(){var t=this;this.$nextTick(function(){t.initAdList()})}},xi=vi,_i=(a("7daf"),Object(r["a"])(xi,mi,pi,!1,null,"0d3e6d50",null)),wi=_i.exports,ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"190px","margin-right":"40px","margin-top":"20px","margin-bottom":"20px"},attrs:{size:"small",placeholder:"请输入标题",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),a("el-button-group",{staticClass:"filter-item",staticStyle:{"margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[a("el-button",{attrs:{loading:t.searchloading,size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("\n        搜索\n      ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:t.refresh}},[t._v("\n        刷新\n      ")]),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.insert}},[t._v("\n        新增\n      ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-container",attrs:{data:t.communicationInfo.slice((t.cur_page-1)*t.pageSize,t.cur_page*t.pageSize),"element-loading-text":"正在疯狂加载",border:"",fit:"",height:"500px","highlight-current-row":""}},[a("el-table-column",{attrs:{fixed:"",label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.communicationId)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"信息标题",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.communicationTitle)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"信息内容",width:"300\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.communicationContext)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"信息发布时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.communicationTime))])]}}])}),a("el-table-column",{attrs:{label:"信息发布者",width:"170\t",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.employeeName)+"\n        ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edit(e)}}},[t._v("\n              修改\n            ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.del(e)}}},[t._v("\n              删除\n            ")])],1)]}}])})],1),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":t.cur_page,"page-sizes":[10,15,20,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"modify"===t.dialogType?"修改":"新增"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.temp,"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"信息标题"}},[a("el-input",{attrs:{placeholder:"请输入信息标题"},model:{value:t.temp.communicationTitle,callback:function(e){t.$set(t.temp,"communicationTitle",e)},expression:"temp.communicationTitle"}})],1),a("el-form-item",{attrs:{label:"信息内容"}},[a("el-input",{attrs:{placeholder:"请输入信息内容"},model:{value:t.temp.communicationContext,callback:function(e){t.$set(t.temp,"communicationContext",e)},expression:"temp.communicationContext"}})],1),a("el-form-item",{attrs:{label:"发布者编号"}},[a("el-input",{attrs:{placeholder:"请输入发布者编号"},model:{value:t.temp.employeeId,callback:function(e){t.$set(t.temp,"employeeId",e)},expression:"temp.employeeId"}})],1),a("el-form-item",{attrs:{label:"发布时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.temp.communicationTime,callback:function(e){t.$set(t.temp,"communicationTime",e)},expression:"temp.communicationTime"}})],1)],1),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n        取消\n      ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n        确定\n      ")])],1)],1)},Ti=[];function Si(t){return x({url:"/communicationinfo/queryByCondition",method:"post",data:t})}function Ci(t){return x({url:"/communicationinfo/add",method:"post",data:t})}function $i(t){return x({url:"/communicationinfo/update",method:"post",data:t})}function Li(t){return x({url:"/communicationinfo/deleteById",method:"post",data:t})}var zi={communicationId:"",communicationContext:"",communicationTime:"",communicationTitle:"",employeeId:""},ji={name:"question",data:function(){return{searchloading:!1,communicationInfo:[],listLoading:!0,inputData:"",temp:Object.assign({},zi),dialogVisible:!1,dialogType:"create",cur_page:1,pageSize:10,total:0}},methods:{initcommunicationList:function(){var t=this;this.listLoading=!0;var e={communicationTitle:this.inputData};Si(e).then(function(e){-1!=e&&(0===e.datas.length&&Object(g["Message"])({message:"查询结果为空",type:"error"}),e.datas.forEach(function(t,e){t.index=e+1}),t.communicationInfo=e.datas,t.total=t.communicationInfo.length,t.listLoading=!1,console.log("王耀辉"),setTimeout(function(){t.listLoading=!1},100))})},search:function(){var t=this;this.searchloading=!0,this.initcommunicationList(),this.cur_page=1,setTimeout(function(){t.searchloading=!1},1500)},refresh:function(){this.initcommunicationList()},resetTemp:function(){this.temp=Object.assign({},zi)},insert:function(){var t=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="create",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},edit:function(t){var e=this;this.resetTemp(),this.dialogVisible=!0,this.dialogType="modify",this.temp=pt(t.row),this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},del:function(t){var e=this;this.$confirm("确认删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t;a.communicationTime=Date.parse(new Date(e.temp.communicationTime)),console.log(a.row.communicationId),Li({id:a.row.communicationId}).then(function(){e.initcommunicationList(),setTimeout(function(){e.$message({message:"删除成功",type:"success"})},300)})})},submit:function(){var t=this;if(!this.listLoading){this.listLoading=!0;var e=this.temp;e.communicationTime=Date.parse(new Date(this.temp.communicationTime)),"create"===this.dialogType?(Ci(e),this.refresh(),this.initcommunicationList()):"modify"===this.dialogType&&($i(e),console.log("修改成功"),this.refresh()),setTimeout(function(){t.refresh()},300),setTimeout(function(){t.$message({message:"成功",type:"success"}),t.dialogVisible=!1,t.listLoading=!1},100)}},handleSizeChange:function(t){this.pageSize=t,this.cur_page=1},handleCurrentChange:function(t){this.cur_page=t}},mounted:function(){var t=this;this.$nextTick(function(){t.initcommunicationList()})}},Ni=ji,Ii=(a("9b65"),Object(r["a"])(Ni,ki,Ti,!1,null,null,null)),Vi=Ii.exports,Ei=a("c90e"),Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticStyle:{height:"500px"}},[a("el-main",[a("el-carousel",{attrs:{interval:4e3,type:"card",height:"400px"}},t._l(t.adList,function(e){return a("el-carousel-item",{key:e},[e.adImages?a("img",{attrs:{src:e.adImages}}):t._e()])}),1)],1),a("el-footer",[a("br"),t._v("欢迎来到攀枝花物流公司\n    ")])],1)],1)},Qi=[],Mi={data:function(){return{adList:[]}},methods:{initAdList2:function(){var t=this;fi({}).then(function(e){console.log(e),-1!=e&&(e.datas.forEach(function(t,e){t.index=e+1}),t.adList=e.datas)})}},mounted:function(){var t=this;this.$nextTick(function(){t.initAdList2()})}},Bi=Mi,Di=(a("3441"),Object(r["a"])(Bi,Oi,Qi,!1,null,null,null)),Pi=Di.exports,Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticStyle:{height:"500px",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{"default-openeds":["1","3"]}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),t._v("导航一")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("分组一")]),a("el-menu-item",{attrs:{index:"1-1"}},[t._v("选项1")]),a("el-menu-item",{attrs:{index:"1-2"}},[t._v("选项2")])],2),a("el-menu-item-group",{attrs:{title:"分组2"}},[a("el-menu-item",{attrs:{index:"1-3"}},[t._v("选项3")])],1),a("el-submenu",{attrs:{index:"1-4"}},[a("template",{slot:"title"},[t._v("选项4")]),a("el-menu-item",{attrs:{index:"1-4-1"}},[t._v("选项4-1")])],2)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),t._v("导航二")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("分组一")]),a("el-menu-item",{attrs:{index:"2-1"}},[t._v("选项1")]),a("el-menu-item",{attrs:{index:"2-2"}},[t._v("选项2")])],2),a("el-menu-item-group",{attrs:{title:"分组2"}},[a("el-menu-item",{attrs:{index:"2-3"}},[t._v("选项3")])],1),a("el-submenu",{attrs:{index:"2-4"}},[a("template",{slot:"title"},[t._v("选项4")]),a("el-menu-item",{attrs:{index:"2-4-1"}},[t._v("选项4-1")])],2)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),t._v("导航三")]),a("el-menu-item-group",[a("template",{slot:"title"},[t._v("分组一")]),a("el-menu-item",{attrs:{index:"3-1"}},[t._v("选项1")]),a("el-menu-item",{attrs:{index:"3-2"}},[t._v("选项2")])],2),a("el-menu-item-group",{attrs:{title:"分组2"}},[a("el-menu-item",{attrs:{index:"3-3"}},[t._v("选项3")])],1),a("el-submenu",{attrs:{index:"3-4"}},[a("template",{slot:"title"},[t._v("选项4")]),a("el-menu-item",{attrs:{index:"3-4-1"}},[t._v("选项4-1")])],2)],2)],1)],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("查看")]),a("el-dropdown-item",[t._v("新增")]),a("el-dropdown-item",[t._v("删除")])],1)],1),a("span",[t._v("王小虎")])],1),a("el-main",[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"日期",width:"140"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],1)],1)],1)],1)},Ai=[],qi={data:function(){var t={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(t)}},methods:{},mounted:function(){}},Ui=qi,Ri=(a("8faf"),Object(r["a"])(Ui,Fi,Ai,!1,null,null,null));Ri.exports;i["default"].use(d["a"]);var Hi=new d["a"]({mode:"history",routes:[{path:"/test",name:"test",component:Pi},{path:"/login",name:"login",component:O},{path:"/",name:"home",component:L,redirect:"/mainPage",children:[{path:"/mainPage",name:"mainPage",component:J,meta:{title:"首页"}},{path:"/basicInfoManage",name:"basicInfoManage",component:lt["default"],redirect:"/employee",meta:{title:"基本信息"},children:[{path:"/address",name:"address",component:yt,meta:{title:"地址信息"}},{path:"/build",name:"build",component:zt,meta:{title:"建筑信息"}},{path:"/car",name:"car",component:Pt,meta:{title:"车辆信息"}},{path:"/company",name:"company",component:Xt,meta:{title:"公司信息"}},{path:"/employee",name:"employee",component:ye,meta:{title:"人员信息"}},{path:"/equipment",name:"equipment",component:ze,meta:{title:"机电设备"}},{path:"/goods",name:"goods",component:Pe,meta:{title:"货物信息"}},{path:"/certification",name:"certification",component:Ke,meta:{title:"证件信息"}},{path:"/material",name:"material",component:ua,meta:{title:"物资信息"}}]},{path:"/buyAndSaleManage",name:"buyAndSaleManage",component:lt["default"],meta:{title:"购销管理"},children:[{path:"/buildManage",name:"buildManage",component:da["default"],meta:{title:"建筑租售"}},{path:"/materialManage",name:"materialManage",component:ma["default"],meta:{title:"物资购销"}},{path:"/carManage",name:"carManage",component:ka,meta:{title:"汽车购销"}},{path:"/goodsManage",name:"goodsManage",component:Oa,meta:{title:"货物购销"}},{path:"/officeSupplies",name:"officeSupplies",component:Qa["default"],meta:{title:"办公耗材购买"}}]},{path:"/carFix",name:"carFix",component:lt["default"],meta:{title:"汽车修检"},children:[{path:"/carFixLog",name:"carFixLog",component:Ga,meta:{title:"车辆维修记录"}},{path:"/materialUseLog",name:"materialUseLog",component:Ja["default"],meta:{title:"物资使用记录"}}]},{path:"/transportationSchedule",name:"transportationSchedule",component:lt["default"],meta:{title:"运输调度"},children:[{path:"/carOperation",name:"carOperation",component:li,meta:{title:"单车运营记录"}},{path:"/carrierBusiness",name:"carrierBusiness",component:di,meta:{title:"承运商业务记录"}}]},{path:"/cooperation",name:"cooperation",component:lt["default"],meta:{title:"对外合作"},children:[{path:"/communication",name:"communication",component:Vi,meta:{title:"信息交流"}},{path:"/advertisement",name:"advertisement",component:wi,meta:{title:"广告信息交流"}}]}]},{path:"/common",name:"common",component:Ei["default"],children:[{path:"/ad",name:"ad",component:Pi},{path:"aboutUs",name:"aboutUs",component:Pi}]}]}),Gi=(a("0fae"),a("c1df"),a("313e"));i["default"].prototype.$echarts=Gi,i["default"].config.productionTip=!1,i["default"].use(b.a),new i["default"]({render:function(t){return t(u)},router:Hi}).$mount("#app")},5799:function(t,e,a){},"59e3":function(t,e,a){},"5a1c":function(t,e,a){"use strict";var i=a("2cdc"),n=a("5498"),l=a("2877"),s=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},"64b8":function(t,e,a){"use strict";var i=a("17c5"),n=a.n(i);n.a},6968:function(t,e,a){"use strict";var i=a("045b"),n=a.n(i);n.a},"69e4":function(t,e,a){"use strict";var i=a("eb07"),n=a.n(i);n.a},"737f":function(t,e,a){},"76d2":function(t,e,a){"use strict";var i=a("15b9"),n=a.n(i);n.a},"772e":function(t,e,a){"use strict";var i=a("dfdc"),n=a.n(i);e["default"]=n.a},"7a12":function(t,e,a){"use strict";var i=a("40e0"),n=a.n(i);n.a},"7daf":function(t,e,a){"use strict";var i=a("9153"),n=a.n(i);n.a},8168:function(t,e,a){},"817f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"8b01":function(t,e,a){"use strict";var i=a("f49f"),n=a.n(i);e["default"]=n.a},"8c86":function(t,e,a){"use strict";var i=a("0724"),n=a.n(i);e["default"]=n.a},"8f6a":function(t,e,a){"use strict";var i=a("afc1"),n=a("bd51"),l=a("2877"),s=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},"8faf":function(t,e,a){"use strict";var i=a("737f"),n=a.n(i);n.a},9153:function(t,e,a){},"9b65":function(t,e,a){"use strict";var i=a("e3f1"),n=a.n(i);n.a},a0a5:function(t,e,a){},a85a:function(t,e){},aa73:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":this.$router.path,mode:"horizontal",width:"100px"}},[a("el-menu-item",{attrs:{index:"ad"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"aboutUs"}},[t._v("关于我们")]),a("el-menu-item",{staticStyle:{"margin-left":"80%"},attrs:{index:"login"}},[t._v("去登录")])],1)],1),a("el-main",[a("router-view")],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},afc1:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("建筑租售")])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},b191:function(t,e,a){"use strict";var i=a("40f4"),n=a.n(i);n.a},b91f:function(t,e,a){},bd51:function(t,e,a){"use strict";var i=a("e302"),n=a.n(i);e["default"]=n.a},be12:function(t,e,a){},c90e:function(t,e,a){"use strict";var i=a("aa73"),n=a("8c86"),l=a("2877"),s=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},c935:function(t,e,a){"use strict";var i=a("b91f"),n=a.n(i);n.a},ccaf:function(t,e,a){"use strict";var i=a("dadd"),n=a.n(i);n.a},d2b5:function(t,e,a){},dadd:function(t,e,a){},df42:function(t,e,a){},dfdc:function(t,e){},e302:function(t,e){},e3f1:function(t,e,a){},eb07:function(t,e,a){},eb21:function(t,e,a){"use strict";var i=a("59e3"),n=a.n(i);n.a},ed39:function(t,e,a){"use strict";var i=a("f479"),n=a("0073"),l=a("2877"),s=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},eea1:function(t,e,a){},f330:function(t,e,a){"use strict";var i=a("be12"),n=a.n(i);n.a},f479:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("办公耗材")])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},f49f:function(t,e){},f5a8:function(t,e,a){"use strict";var i=a("4515"),n=a.n(i);n.a},f6fd:function(t,e,a){"use strict";var i=a("3f06"),n=a("8b01"),l=a("2877"),s=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports}});
//# sourceMappingURL=app.329d3300.js.map